<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube İzleme Ekranı</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: #0f0f0f; color: white; font-family: Roboto, Arial, sans-serif; overflow-x: hidden; }

        /* Üst Menü */
        header { height: 56px; padding: 0 16px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; background: #0f0f0f; z-index: 100; }
        .logo { display: flex; align-items: center; gap: 4px; font-weight: bold; font-size: 18px; cursor: pointer; }
        .logo i { color: red; font-size: 24px; }

        /* Ana İçerik Alanı */
        .container { display: none; padding: 20px; max-width: 1700px; margin: 0 auto; gap: 24px; }
        .container.active { display: flex; flex-direction: row; }

        /* Sol Taraf: Video Oynatıcı */
        .video-main { flex: 3; }
        .player-wrapper { width: 100%; aspect-ratio: 16/9; background: #000; border-radius: 12px; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }

        .video-title { font-size: 20px; font-weight: bold; margin-top: 12px; }
        .video-meta { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
        .channel-info { display: flex; align-items: center; gap: 12px; }
        .avatar { width: 40px; height: 40px; background: #333; border-radius: 50%; }
        .subscribe-btn { background: white; color: black; padding: 8px 16px; border-radius: 20px; font-weight: bold; cursor: pointer; border: none; }
        
        .actions { display: flex; gap: 8px; }
        .action-btn { background: #272727; padding: 8px 16px; border-radius: 20px; display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 14px; }

        /* Sağ Taraf: Önerilen Videolar */
        .sidebar { flex: 1; display: flex; flex-direction: column; gap: 12px; }
        .side-card { display: flex; gap: 8px; cursor: pointer; }
        .side-thumb { width: 168px; height: 94px; background: #222; border-radius: 8px; flex-shrink: 0; overflow: hidden; }
        .side-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .side-text h4 { font-size: 14px; line-height: 1.2; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .side-text p { font-size: 12px; color: #aaa; margin-top: 4px; }

        /* Reels & Başlangıç Alanı (Daha Önceki Yapı) */
        #home-view { padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; }
        .home-card { cursor: pointer; }
        .home-thumb { width: 100%; aspect-ratio: 16/9; background: #222; border-radius: 12px; margin-bottom: 10px; }

        @media (max-width: 1000px) {
            .container.active { flex-direction: column; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="goHome()"><i class="fab fa-youtube"></i> YouTube<sup>TR</sup></div>
    <div style="background: #222; padding: 8px 20px; border-radius: 20px; width: 40%;">Ara...</div>
    <div class="avatar"></div>
</header>

<div id="home-view">
    </div>

<div class="container" id="watch-view">
    <div class="video-main">
        <div class="player-wrapper" id="main-player"></div>
        <div class="video-title" id="main-title">Video Başlığı Yükleniyor...</div>
        <div class="video-meta">
            <div class="channel-info">
                <div class="avatar"></div>
                <div>
                    <div id="main-channel" style="font-weight: bold;">Kanal Adı</div>
                    <div style="font-size: 12px; color: #aaa;">1.43 Mn abone</div>
                </div>
                <button class="subscribe-btn">Abone ol</button>
            </div>
            <div class="actions">
                <div class="action-btn"><i class="fas fa-thumbs-up"></i> 32 B</div>
                <div class="action-btn"><i class="fas fa-share"></i> Paylaş</div>
                <div class="action-btn"><i class="fas fa-download"></i> İndir</div>
            </div>
        </div>
    </div>

    <div class="sidebar" id="sidebar-list">
        </div>
</div>

<script>
    const API_KEY = 'AIzaSyDkaygARzpXfIXlozjyppLdXsPoE-mq1gg';

    async function loadApp() {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=türkçe+müzik+popüler&type=video&key=${API_KEY}`);
        const data = await res.json();
        const home = document.getElementById('home-view');
        
        data.items.forEach(item => {
            home.innerHTML += `
                <div class="home-card" onclick="watchVideo('${item.id.videoId}', '${item.snippet.title.replace(/'/g, "\\'")}', '${item.snippet.channelTitle}')">
                    <img src="${item.snippet.thumbnails.high.url}" class="home-thumb">
                    <h4>${item.snippet.title}</h4>
                    <p style="color:#aaa; font-size:14px;">${item.snippet.channelTitle}</p>
                </div>`;
        });
        loadSidebar(); // Kenar çubuğunu hazırla
    }

    function watchVideo(id, title, channel) {
        document.getElementById('home-view').style.display = 'none';
        const watchView = document.getElementById('watch-view');
        watchView.classList.add('active');

        document.getElementById('main-player').innerHTML = `<iframe src="https://www.youtube.com/embed/${id}?autoplay=1" allow="autoplay; fullscreen"></iframe>`;
        document.getElementById('main-title').innerText = title;
        document.getElementById('main-channel').innerText = channel;
        window.scrollTo(0, 0);
    }

    async function loadSidebar() {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=trend+videolar+türkiye&type=video&key=${API_KEY}`);
        const data = await res.json();
        const sidebar = document.getElementById('sidebar-list');

        data.items.forEach(item => {
            sidebar.innerHTML += `
                <div class="side-card" onclick="watchVideo('${item.id.videoId}', '${item.snippet.title.replace(/'/g, "\\'")}', '${item.snippet.channelTitle}')">
                    <div class="side-thumb"><img src="${item.snippet.thumbnails.medium.url}"></div>
                    <div class="side-text">
                        <h4>${item.snippet.title}</h4>
                        <p>${item.snippet.channelTitle}</p>
                        <p>19 Mn görüntüleme</p>
                    </div>
                </div>`;
        });
    }

    function goHome() {
        location.reload();
    }

    loadApp();
</script>

</body>
</html>
