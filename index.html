<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Sadece Reels</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { width: 100%; height: 100%; background: #000; overflow: hidden; font-family: sans-serif; }

        /* REELS AKI≈ûI */
        .reels-container {
            width: 100%; height: 100vh; 
            overflow-y: scroll; scroll-snap-type: y mandatory;
            scrollbar-width: none; -ms-overflow-style: none;
            scroll-behavior: smooth;
        }
        .reels-container::-webkit-scrollbar { display: none; }

        .reel { 
            width: 100%; height: 100vh; 
            scroll-snap-align: start; 
            position: relative; 
            background: #000; 
        }
        
        video { width: 100%; height: 100%; object-fit: cover; }

        /* ETKƒ∞LE≈ûƒ∞M BUTONLARI (SAƒû TARAF) */
        .actions {
            position: absolute; right: 15px; bottom: 80px;
            display: flex; flex-direction: column; gap: 20px;
            z-index: 10;
        }
        .btn { color: white; text-align: center; cursor: pointer; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .btn i { font-size: 30px; display: block; font-style: normal; }
        .btn span { font-size: 12px; font-weight: bold; }

        /* ALT Bƒ∞LGƒ∞ */
        .overlay-info {
            position: absolute; bottom: 30px; left: 15px;
            color: white; text-shadow: 0 2px 5px rgba(0,0,0,0.8);
            pointer-events: none; z-index: 10;
        }
        .overlay-info h3 { font-size: 16px; margin-bottom: 5px; }

        /* SES ƒ∞KONU (ORTADA √áIKAN) */
        .mute-status {
            position: absolute; top: 50%; left: 50%; 
            transform: translate(-50%, -50%) scale(0);
            background: rgba(0,0,0,0.5); color: white;
            width: 80px; height: 80px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 40px; z-index: 100; opacity: 0; transition: all 0.3s;
        }
        .mute-status.active { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    </style>
</head>
<body>

<div class="reels-container" id="main">
    </div>

<script>
    const container = document.getElementById('main');
    const videos = ["reels1.mp4", "reels2.mp4", "reels3.mp4", "reels4.mp4"];
    let globalMuted = true;
    let isLocked = false;
    let loopCounter = 0;

    // Tek bir Reel yapƒ±sƒ± olu≈üturma
    function addReel(src) {
        const reel = document.createElement('div');
        reel.className = 'reel';
        reel.innerHTML = `
            <video src="${src}" loop muted playsinline></video>
            <div class="mute-status">üîá</div>
            <div class="actions">
                <div class="btn" onclick="this.style.color='red'"><i>‚ù§</i><span>Beƒüen</span></div>
                <div class="btn"><i>üí¨</i><span>Yorum</span></div>
                <div class="btn"><i>‚úà</i><span>G√∂nder</span></div>
            </div>
            <div class="overlay-info">
                <h3>@saf_reels_keyfi</h3>
                <p>Oynatƒ±lan: ${src}</p>
            </div>
        `;
        container.appendChild(reel);
        const v = reel.querySelector('video');
        v.load();
        observer.observe(v);
    }

    // Video Oynatma & Durdurma Mantƒ±ƒüƒ±
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const v = entry.target;
            if (entry.isIntersecting) {
                v.muted = globalMuted;
                v.currentTime = 0;
                v.play().catch(() => { /* Kullanƒ±cƒ± dokunana kadar sessiz kalabilir */ });
            } else {
                v.pause();
            }
        });
    }, { threshold: 0.8 });

    // Ba≈ülangƒ±√ß videolarƒ±nƒ± y√ºkle
    videos.forEach(src => addReel(src));

    // SES KONTROL√ú (Tƒ±klayƒ±nca her yerde a√ßƒ±lƒ±r/kapanƒ±r)
    document.addEventListener('click', (e) => {
        const reel = e.target.closest('.reel');
        if (!reel || e.target.closest('.actions')) return;

        const v = reel.querySelector('video');
        const icon = reel.querySelector('.mute-status');

        globalMuted = !globalMuted;
        document.querySelectorAll('video').forEach(vid => vid.muted = globalMuted);

        icon.innerText = globalMuted ? "üîá" : "üîä";
        icon.classList.add('active');
        setTimeout(() => icon.classList.remove('active'), 600);
    });

    // 2 SANƒ∞YE KAYDIRMA Kƒ∞Lƒ∞Dƒ∞
    container.addEventListener('wheel', (e) => {
        if (isLocked) {
            e.preventDefault();
            return;
        }
        isLocked = true;
        setTimeout(() => { isLocked = false; }, 2000); 
    }, { passive: false });

    // SONSUZ D√ñNG√ú EKLEME
    container.onscroll = () => {
        if (container.scrollTop + container.clientHeight >= container.scrollHeight - 50) {
            addReel(videos[loopCounter % 4]);
            loopCounter++;
        }
    };
</script>
</body>
</html>
