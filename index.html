<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>KOALA ARCADE | VISION 2026</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@400;700;900&display=swap');

        :root { --neon: #39ff14; --glass: rgba(255, 255, 255, 0.03); --border: rgba(255, 255, 255, 0.08); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #000; color: #fff; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
        .sync { font-family: 'Syncopate', sans-serif; }

        .page { display: none; flex: 1; flex-direction: column; padding: 25px 20px 110px; overflow-y: auto; }
        .page.active { display: flex; animation: pageFade 0.4s ease; }
        @keyframes pageFade { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: var(--glass); border: 1px solid var(--border); border-radius: 24px; padding: 18px; margin-bottom: 12px; }
        .btn-claim { background: var(--neon); color: #000; padding: 8px 16px; border-radius: 12px; font-size: 11px; font-weight: 900; }
        
        /* Gelişmiş Roadmap Stilleri */
        .rm-container { position: relative; padding-left: 30px; margin-top: 20px; }
        .rm-line { position: absolute; left: 7px; top: 0; bottom: 0; width: 2px; background: linear-gradient(to bottom, var(--neon), #111); }
        .rm-point { position: absolute; left: -27px; top: 0; width: 16px; height: 16px; background: #000; border: 3px solid var(--neon); border-radius: 50%; box-shadow: 0 0 10px var(--neon); }
        .rm-phase { position: relative; margin-bottom: 40px; }
        .rm-title { font-size: 12px; font-weight: 900; letter-spacing: 2px; color: var(--neon); text-transform: uppercase; margin-bottom: 8px; }
        .rm-desc { font-size: 11px; color: #777; line-height: 1.6; }
        .rm-tag { display: inline-block; padding: 3px 8px; border-radius: 6px; background: rgba(57, 255, 20, 0.1); color: var(--neon); font-size: 8px; font-weight: 900; margin-top: 8px; text-transform: uppercase; }
        .rm-phase.past .rm-point { background: var(--neon); border-color: #fff; }
        .rm-phase.past .rm-line-hide { position: absolute; left: -24px; top: 16px; width: 2px; height: 100%; background: var(--neon); }

        /* Borsa Resimleri */
        .ex-img { width: 42px; height: 42px; border-radius: 12px; object-fit: cover; filter: grayscale(1); }
        .selected .ex-img { filter: grayscale(0); border: 2px solid var(--neon); }

        .nav-bar { position: fixed; bottom: 20px; left: 20px; right: 20px; height: 80px; background: rgba(10,10,10,0.9); backdrop-filter: blur(20px); border-radius: 25px; border: 1px solid var(--border); display: flex; z-index: 1000; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #444; font-size: 10px; font-weight: 800; gap: 4px; }
        .nav-item.active { color: #fff; }
        .nav-item.active i { color: var(--neon); }

        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

<div id="app" class="h-full flex flex-col">

    <div id="p-home" class="page active">
        <div class="text-center mt-6 mb-8">
            <h1 id="bal-txt" class="sync text-6xl font-bold tracking-tighter">0.00</h1>
            <p class="text-[9px] text-zinc-600 font-black uppercase tracking-[3px] mt-2">Current Assets</p>
        </div>

        <div class="card flex justify-between items-center" onclick="watchAd()">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-xl text-[#39ff14]"><i class="fa-solid fa-play"></i></div>
                <div><p class="font-black text-xs uppercase">Watch Ad</p><p class="text-[9px] text-zinc-500 font-bold">+1.00 $KOALA</p></div>
            </div>
            <div class="btn-claim">CLAIM</div>
        </div>

        <div id="task-list" class="space-y-3 mt-2">
            <div class="card flex justify-between items-center" onclick="doTask('t1', 5.0)">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-xl text-blue-400"><i class="fa-brands fa-telegram"></i></div>
                    <div><p class="font-black text-xs uppercase">Telegram Community</p><p class="text-[9px] text-zinc-500 font-bold">+5.00 $KOALA</p></div>
                </div>
                <div id="t1-btn" class="btn-claim">JOIN</div>
            </div>
        </div>
    </div>

    <div id="p-ref" class="page">
        <h2 class="sync text-3xl font-bold mt-6 mb-8 uppercase">Squad</h2>
        <div class="card py-10 text-center">
            <p class="text-[10px] text-zinc-500 font-bold uppercase mb-2">Referral Reward</p>
            <h3 class="sync text-4xl">+10,000</h3>
        </div>
        <div id="ref-list" class="mt-4 flex-1 overflow-y-auto"></div>
        <div onclick="copyLink()" class="bg-white text-black p-5 rounded-3xl font-black text-center uppercase tracking-widest text-xs mt-4">Invite Friends</div>
    </div>

    <div id="p-airdrop" class="page">
        <h2 class="sync text-3xl font-bold mt-6 mb-8 uppercase">Ecosystem</h2>
        
        <div class="mb-10">
            <p class="text-[10px] font-black text-zinc-600 uppercase mb-4 tracking-widest">Connect Exchange</p>
            <div class="space-y-3">
                <div class="card flex items-center justify-between" id="ex-Binance" onclick="setEx('Binance')">
                    <div class="flex items-center gap-4"><img src="binance.jpg" class="ex-img"><span class="sync text-[10px]">Binance</span></div>
                    <i class="fa-solid fa-circle-check text-zinc-900"></i>
                </div>
                <div class="card flex items-center justify-between" id="ex-OKX" onclick="setEx('OKX')">
                    <div class="flex items-center gap-4"><img src="okx.jpg" class="ex-img"><span class="sync text-[10px]">OKX</span></div>
                    <i class="fa-solid fa-circle-check text-zinc-900"></i>
                </div>
            </div>
        </div>

        <h2 class="sync text-xl font-bold mb-6 text-zinc-500 uppercase">Strategic Roadmap</h2>
        
        <div class="rm-container">
            <div class="rm-line"></div>
            
            <div class="rm-phase past">
                <div class="rm-point"></div>
                <div class="rm-title">Phase 01: Genesis</div>
                <p class="rm-desc">Projenin temellerinin atılması, Telegram botunun yayına alınması ve ilk 100.000 kullanıcıya ulaşılması.</p>
                <span class="rm-tag">Completed</span>
            </div>

            <div class="rm-phase">
                <div class="rm-point"></div>
                <div class="rm-title">Phase 02: Expansion</div>
                <p class="rm-desc">Stratejik borsa partnerliklerinin duyurulması, Koala Arcade oyun motorunun entegrasyonu ve sosyal görevlerin genişletilmesi.</p>
                <span class="rm-tag">In Progress</span>
            </div>

            <div class="rm-phase">
                <div class="rm-point"></div>
                <div class="rm-title">Phase 03: Dominance</div>
                <p class="rm-desc">TGE (Token Generation Event) başlangıcı. $KOALA token’ın Binance ve OKX üzerinde listelenmesi ve likidite havuzlarının açılması.</p>
                <span class="rm-tag">Q3 2026</span>
            </div>

            <div class="rm-phase">
                <div class="rm-point"></div>
                <div class="rm-title">Phase 04: Eclipse</div>
                <p class="rm-desc">Airdrop dağıtımının tamamlanması, NFT marketinin açılışı ve topluluk yönetimi (DAO) sistemine geçiş.</p>
                <span class="rm-tag">Final</span>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="nav('home', this)"><i class="fa-solid fa-wallet"></i><span>EARN</span></div>
        <div class="nav-item" onclick="nav('ref', this)"><i class="fa-solid fa-users-rays"></i><span>SQUAD</span></div>
        <div class="nav-item" onclick="nav('airdrop', this)"><i class="fa-solid fa-shuttle-space"></i><span>LAUNCH</span></div>
    </nav>
</div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAJbCj95zZf2VTGH196clZpu5nYm47ESpY",
        authDomain: "koalascombom.firebaseapp.com",
        projectId: "koalascombom",
        storageBucket: "koalascombom.firebasestorage.app",
        messagingSenderId: "533011982418",
        appId: "1:533011982418:web:9e8e50e93a99017062d78b"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    let uid = localStorage.getItem('k_uid') || 'U' + Math.floor(Math.random()*90000+10000);
    localStorage.setItem('k_uid', uid);

    let u = { bal: 0, ex: '', refs: [], tasks: [] };

    async function init() {
        const doc = await db.collection("users").doc(uid).get();
        if(doc.exists) u = {...u, ...doc.data()};
        render();
    }

    function watchAd() {
        u.bal += 1.0;
        save(); render();
        alert("+1.00 Koala Claimed!");
    }

    function doTask(id, reward) {
        if(u.tasks.includes(id)) return;
        u.bal += reward; u.tasks.push(id);
        save(); render();
    }

    function setEx(n) { u.ex = n; save(); render(); }
    function copyLink() { navigator.clipboard.writeText(window.location.origin + "?ref=" + uid); alert("Link Copied!"); }

    function render() {
        document.getElementById('bal-txt').innerText = u.bal.toLocaleString('tr-TR', {minimumFractionDigits: 2});
        
        // Borsa UI
        document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
        document.querySelectorAll('.fa-circle-check').forEach(i => i.style.color = '#111');
        if(u.ex) {
            const el = document.getElementById('ex-' + u.ex);
            if(el) { el.classList.add('selected'); el.querySelector('i').style.color = '#39ff14'; }
        }

        // Ref List
        let rH = '';
        u.refs.forEach(r => {
            rH += `<div class="card !py-3 flex justify-between items-center opacity-40">
                <span class="text-[10px] font-bold">Soldier: ${r}</span>
                <span class="text-[10px] text-[#39ff14] font-black">+10,000</span>
            </div>`;
        });
        document.getElementById('ref-list').innerHTML = rH || '<p class="text-center py-10 text-[9px] text-zinc-800 font-bold uppercase">No Squad Members</p>';
    }

    async function save() { await db.collection("users").doc(uid).set(u); }
    function nav(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('p-' + id).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }

    window.onload = init;
</script>
</body>
</html>
