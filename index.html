<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>YouTube Premium - AI Optimized</title>
    <style>
        :root {
            --bg: #0f0f0f;
            --surface: #272727;
            --text: #ffffff;
            --subtext: #aaaaaa;
            --accent: #ff0000;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: "Roboto", Arial, sans-serif; }

        /* HEADER & NAV */
        header { position: fixed; top: 0; width: 100%; height: 56px; background: var(--bg); display: flex; align-items: center; justify-content: space-between; padding: 0 16px; z-index: 1000; }
        .logo { font-size: 20px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 4px; }
        .logo span { color: var(--accent); font-size: 28px; }
        .search-container { flex: 0 1 720px; display: flex; background: #121212; border: 1px solid #333; border-radius: 40px; padding: 0 15px; }
        .search-container input { width: 100%; background: none; border: none; padding: 8px; color: white; outline: none; }

        /* SIDEBAR */
        nav { position: fixed; left: 0; top: 56px; width: 240px; height: 100%; padding: 12px; }
        .nav-item { display: flex; align-items: center; gap: 20px; padding: 10px 12px; border-radius: 10px; cursor: pointer; }
        .nav-item:hover { background: var(--surface); }

        /* MAIN CONTENT */
        main { margin-left: 240px; margin-top: 56px; padding: 24px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; }

        /* SKELETON (BEYAZ EKRANI Sƒ∞LEN Sƒ∞STEM) */
        .skeleton { width: 100%; }
        .sk-img { width: 100%; aspect-ratio: 16/9; background: #1a1a1a; border-radius: 12px; position: relative; overflow: hidden; }
        .sk-img::after {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, #222, transparent);
            animation: shine 1.5s infinite;
        }
        .sk-line { height: 15px; background: #1a1a1a; margin-top: 10px; border-radius: 4px; width: 80%; }
        @keyframes shine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        /* VIDEO CARDS */
        .v-card { cursor: pointer; display: none; }
        .v-img { width: 100%; aspect-ratio: 16/9; border-radius: 12px; object-fit: cover; background: #000; }
        .v-title { font-size: 16px; font-weight: 500; margin: 12px 0 5px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .v-meta { font-size: 14px; color: var(--subtext); }

        /* WATCH PAGE (ERTN PANELƒ∞) */
        #watch { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: none; overflow-y: auto; }
        .watch-grid { display: flex; max-width: 1700px; margin: 60px auto; gap: 24px; padding: 0 20px; }
        .player-area { flex: 3; }
        .side-area { flex: 1; min-width: 350px; }
        .close-btn { position: fixed; top: 15px; left: 20px; font-size: 30px; cursor: pointer; color: white; z-index: 2100; }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()"><span>‚ñ∂</span> YouTube</div>
    <div class="search-container"><input type="text" id="sBox" placeholder="Ara..."></div>
    <div style="font-size:20px;">üë§</div>
</header>

<nav>
    <div class="nav-item">üè† Ana Sayfa</div>
    <div class="nav-item">ü©≥ Shorts</div>
    <div class="nav-item">üì∫ Abonelikler</div>
</nav>

<main>
    <div class="grid" id="mainGrid">
        <div class="skeleton"><div class="sk-img"></div><div class="sk-line"></div></div>
        <div class="skeleton"><div class="sk-img"></div><div class="sk-line"></div></div>
        <div class="skeleton"><div class="sk-img"></div><div class="sk-line"></div></div>
    </div>
</main>

<div id="watch">
    <div class="close-btn" onclick="document.getElementById('watch').style.display='none'">‚Üê</div>
    <div class="watch-grid">
        <div class="player-area">
            <iframe id="p" width="100%" style="aspect-ratio:16/9; border-radius:12px; border:none;" allowfullscreen allow="autoplay"></iframe>
            <h1 id="pT" style="margin-top:20px;">Video Ba≈ülƒ±ƒüƒ±</h1>
        </div>
        <div class="side-area" id="sGrid"></div>
    </div>
</div>

<script>
    const API_KEY = 'AIzaSyDkaygARzpXfIXlozjyppLdXsPoE-mq1gg';
    
    // Her yenilemede "uzun ve kaliteli" videolar i√ßin rastgele kategoriler
    const tags = ['t√ºrkiye belgeselleri', 'tek par√ßa diziler', 'uzun gameplay t√ºrk√ße', 'podcast programlarƒ±', 'canlƒ± yayƒ±n √∂zetleri'];
    const randomTag = tags[Math.floor(Math.random() * tags.length)];

    async function load() {
        const grid = document.getElementById('mainGrid');
        try {
            // videoDuration=long (20 dk √ºzeri) videolarƒ± getirir
            const r = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=24&q=${randomTag}&videoDuration=long&type=video&key=${API_KEY}`);
            const d = await r.json();
            
            if(d.items) {
                grid.innerHTML = "";
                d.items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'v-card';
                    card.style.display = 'block';
                    card.onclick = () => {
                        document.getElementById('watch').style.display = 'block';
                        document.getElementById('p').src = `https://www.youtube.com/embed/${item.id.videoId}?autoplay=1`;
                        document.getElementById('pT').innerText = item.snippet.title;
                        loadSide();
                    };
                    card.innerHTML = `
                        <img class="v-img" src="${item.snippet.thumbnails.high.url}" onerror="this.src='https://via.placeholder.com/640x360/1a1a1a/ffffff?text=Video+Yukleniyor'">
                        <div class="v-title">${item.snippet.title}</div>
                        <div class="v-meta">${item.snippet.channelTitle}</div>
                    `;
                    grid.appendChild(card);
                });
            }
        } catch(e) { console.error(e); }
    }

    async function loadSide() {
        const side = document.getElementById('sGrid');
        side.innerHTML = "<h4>Sƒ±radaki</h4><br>";
        const r = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=8&q=pop√ºler&type=video&key=${API_KEY}`);
        const d = await r.json();
        d.items.forEach(i => {
            side.innerHTML += `
                <div style="display:flex; gap:10px; margin-bottom:12px; cursor:pointer;" onclick="document.getElementById('p').src='https://www.youtube.com/embed/${i.id.videoId}'">
                    <img src="${i.snippet.thumbnails.medium.url}" style="width:160px; border-radius:8px;">
                    <div><p style="font-size:14px; font-weight:500;">${i.snippet.title}</p></div>
                </div>`;
        });
    }

    window.onload = load;
</script>
</body>
</html>
