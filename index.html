<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini YouTube Shorts Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #0f0f0f; color: white; font-family: 'Roboto', sans-serif; }
        .shorts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            padding: 20px;
        }
        .aspect-shorts {
            aspect-ratio: 9 / 16;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
        }
        .video-card:hover { transform: scale(1.03); transition: transform 0.2s ease; }
    </style>
</head>
<body>

    <header class="flex items-center justify-between px-4 py-3 sticky top-0 bg-[#0f0f0f] z-50">
        <div class="flex items-center gap-2">
            <div class="bg-red-600 p-1 rounded-lg">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"/></svg>
            </div>
            <span class="text-xl font-bold tracking-tighter">ShortsX</span>
        </div>

        <div class="flex-1 max-w-md mx-4">
            <input id="searchBar" type="text" placeholder="Shorts videolarında ara..." 
                   class="w-full bg-[#121212] border border-[#333] px-5 py-2 rounded-full focus:outline-none focus:ring-1 focus:ring-blue-500">
        </div>

        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-blue-500"></div>
    </header>

    <main>
        <div id="loader" class="text-center mt-20 text-gray-400">Videolar getiriliyor...</div>
        <div id="shortsGrid" class="shorts-grid"></div>
    </main>

    <script>
        const API_KEY = 'AIzaSyDkaygARzpXfIXlozjyppLdXsPoE-mq1gg';
        const grid = document.getElementById('shortsGrid');
        const loader = document.getElementById('loader');
        const searchBar = document.getElementById('searchBar');

        async function getShorts(keyword = 'trending shorts') {
            loader.style.display = 'block';
            grid.innerHTML = '';
            
            try {
                // YouTube API'den kısa videoları (Shorts) çekmek için parametreler
                const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=24&q=${encodeURIComponent(keyword)}&type=video&videoDuration=short&key=${API_KEY}`;
                
                const res = await fetch(url);
                const data = await res.json();

                if (data.items) {
                    renderVideos(data.items);
                } else {
                    loader.innerText = "Video bulunamadı.";
                }
            } catch (err) {
                loader.innerText = "Hata: API Kotası dolmuş veya anahtar yanlış olabilir.";
                console.error(err);
            } finally {
                loader.style.display = 'none';
            }
        }

        function renderVideos(videos) {
            videos.forEach(item => {
                const videoId = item.id.videoId;
                const title = item.snippet.title;
                const thumb = item.snippet.thumbnails.high.url;

                const card = `
                    <div class="video-card cursor-pointer group" onclick="window.open('https://www.youtube.com/shorts/${videoId}', '_blank')">
                        <div class="aspect-shorts">
                            <img src="${thumb}" class="w-full h-full object-cover">
                            <div class="absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 p-2 rounded text-[10px]">
                                İzlemek için tıkla
                            </div>
                        </div>
                        <div class="mt-2 px-1">
                            <h3 class="text-xs font-medium line-clamp-2 leading-tight">${title}</h3>
                        </div>
                    </div>
                `;
                grid.innerHTML += card;
            });
        }

        searchBar.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                getShorts(searchBar.value);
            }
        });

        // Sayfa açıldığında varsayılan yükleme
        getShorts();
    </script>
</body>
</html>
