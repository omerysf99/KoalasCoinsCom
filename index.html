<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ñzel YouTube Reels Pro</title>
    <style>
        body { margin: 0; padding: 0; background-color: #000; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: 'Segoe UI', sans-serif; color: white; overflow: hidden; }
        .reels-wrapper { width: 100%; max-width: 380px; height: 92vh; position: relative; background: #000; border-radius: 40px; overflow: hidden; border: 6px solid #222; box-shadow: 0 0 30px rgba(0,0,0,0.8); }
        .reels-container { height: 100%; overflow-y: scroll; scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        .reels-container::-webkit-scrollbar { display: none; }
        .video-card { height: 100%; width: 100%; scroll-snap-align: start; position: relative; background: #000; }
        
        /* YouTube Iframe Tasarƒ±mƒ± */
        iframe { width: 100%; height: 100%; pointer-events: none; transform: scale(1.4); } /* Siyah bo≈üluklarƒ± √∂nlemek i√ßin √∂l√ßekleme */

        /* Yan Men√º */
        .side-bar { position: absolute; right: 10px; bottom: 80px; display: flex; flex-direction: column; align-items: center; gap: 20px; z-index: 100; }
        .action-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        .icon { font-size: 30px; }
        .count { font-size: 11px; font-weight: bold; margin-top: 2px; }

        /* Tƒ±klama Katmanƒ± (Video etkile≈üimini y√∂netmek i√ßin) */
        .click-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; }

        /* Kalp Animasyonu */
        .heart-animation { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); font-size: 100px; color: red; pointer-events: none; z-index: 150; }
        .animate-heart { animation: heartPop 0.7s ease-out forwards; }
        @keyframes heartPop { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 50% { transform: translate(-50%, -50%) scale(1.6); opacity: 1; } 100% { transform: translate(-50%, -150%) scale(1.2); opacity: 0; } }

        .info-overlay { position: absolute; bottom: 30px; left: 15px; width: 65%; pointer-events: none; text-shadow: 0 2px 6px black; z-index: 60; }
    </style>
</head>
<body>

<div class="reels-wrapper">
    <div id="heartPop" class="heart-animation">‚ù§Ô∏è</div>
    <div class="reels-container" id="reelsContainer"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
    const API_KEY = 'AIzaSyD1ie6u6qh7ef2dR64_ZICI2W20_FCs8LI';
    const videoIds = ['znv__YAlrTQ', 'dj7QJ0-VIHc', 'lB6IgV1kapU', 'XHYVGwXC4Tc', 'fkDpX8UXHN4']; // Pop√ºler T√ºrk√ße Shorts IDleri
    const players = {};
    let clickTimer = null;

    function onYouTubeIframeAPIReady() {
        renderVideos();
    }

    function renderVideos() {
        const container = document.getElementById('reelsContainer');
        videoIds.forEach((id, i) => {
            const isLiked = localStorage.getItem(`yt_like_${id}`) === 'true';
            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <div class="click-layer" onclick="handleInteraction('${id}', ${i})"></div>
                <div id="player-${id}"></div>
                <div class="side-bar">
                    <div class="action-item" onclick="event.stopPropagation(); toggleLike('${id}', ${i})">
                        <span class="icon like-icon">${isLiked ? '‚ù§Ô∏è' : 'ü§ç'}</span>
                        <span class="count like-count">${isLiked ? 1 : 0}</span>
                    </div>
                    <div class="action-item" onclick="event.stopPropagation(); addComment('${id}')">
                        <span class="icon">üí¨</span>
                        <span class="count">Yorum</span>
                    </div>
                    <div class="action-item"><span class="icon">üîñ</span><span class="count">Kaydet</span></div>
                </div>
                <div class="info-overlay">
                    <h4 style="margin:0;">Trend Video #${i+1}</h4>
                    <p style="margin:5px 0 0; font-size:12px; opacity:0.8;">YouTube Kaynaklƒ±</p>
                </div>
            `;
            container.appendChild(card);

            players[id] = new YT.Player(`player-${id}`, {
                videoId: id,
                playerVars: { 
                    'autoplay': 0, 
                    'controls': 0, 
                    'loop': 1, 
                    'playlist': id, 
                    'modestbranding': 1, 
                    'showinfo': 0, 
                    'rel': 0,
                    'mute': 1 
                },
                events: {
                    'onReady': (event) => { if(i === 0) event.target.playVideo(); }
                }
            });
        });
    }

    function handleInteraction(id, index) {
        if (clickTimer == null) {
            clickTimer = setTimeout(() => {
                const state = players[id].getPlayerState();
                state === 1 ? players[id].pauseVideo() : players[id].playVideo();
                clickTimer = null;
            }, 250);
        } else {
            clearTimeout(clickTimer);
            clickTimer = null;
            toggleLike(id, index, true); // √áift tƒ±kla beƒüeni
        }
    }

    function toggleLike(id, index, forceLike = false) {
        const key = `yt_like_${id}`;
        const isLiked = localStorage.getItem(key) === 'true';
        const heartIcons = document.querySelectorAll('.like-icon');
        const countEls = document.querySelectorAll('.like-count');

        if (!isLiked) {
            localStorage.setItem(key, 'true');
            countEls[index].innerText = parseInt(countEls[index].innerText) + 1;
            heartIcons[index].innerText = '‚ù§Ô∏è';
            playHeartAnim();
        } else if (!forceLike) {
            localStorage.removeItem(key);
            countEls[index].innerText = parseInt(countEls[index].innerText) - 1;
            heartIcons[index].innerText = 'ü§ç';
        } else {
            playHeartAnim();
        }
    }

    function addComment(id) {
        const comment = prompt("Bu video i√ßin yorumun nedir?");
        if(comment) {
            localStorage.setItem(`comment_${id}`, comment);
            alert("Yorumun bu siteye √∂zel olarak kaydedildi!");
        }
    }

    function playHeartAnim() {
        const pop = document.getElementById('heartPop');
        pop.classList.remove('animate-heart');
        void pop.offsetWidth; 
        pop.classList.add('animate-heart');
    }

    // Kaydƒ±rma sƒ±rasƒ±nda videolarƒ± kontrol et
    document.getElementById('reelsContainer').addEventListener('scroll', () => {
        videoIds.forEach(id => {
            const playerElement = document.getElementById(`player-${id}`).parentElement;
            const rect = playerElement.getBoundingClientRect();
            if (rect.top >= -100 && rect.top <= 100) {
                players[id].playVideo();
                players[id].unMute();
            } else {
                players[id].pauseVideo();
            }
        });
    });
</script>
</body>
</html>
