<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Mini - TÃ¼rkÃ§e Loop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background: #121212; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        
        /* Uygulama Ã‡erÃ§evesi (KÃ¼Ã§Ã¼ltÃ¼lmÃ¼ÅŸ) */
        .phone-container {
            width: 380px;
            height: 720px;
            background: #000;
            border: 8px solid #222;
            border-radius: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* KaydÄ±rma Motoru */
        #videoFeed {
            height: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }
        #videoFeed::-webkit-scrollbar { display: none; }

        .video-card {
            height: 100%;
            width: 100%;
            scroll-snap-align: start;
            position: relative;
        }

        iframe { width: 100%; height: 100%; pointer-events: none; }

        /* UI ElemanlarÄ± */
        .overlay { position: absolute; bottom: 80px; left: 15px; right: 70px; z-index: 50; pointer-events: none; }
        .side-bar { position: absolute; right: 10px; bottom: 100px; display: flex; flex-direction: column; align-items: center; gap: 20px; z-index: 60; }
        
        .disc-anim {
            width: 40px; height: 40px;
            background: radial-gradient(circle, #444 0%, #000 100%);
            border: 5px solid #1a1a1a; border-radius: 50%;
            animation: rotate 4s linear infinite;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .heart-pop {
            position: absolute; color: #ff3b5c; font-size: 80px;
            animation: pop 0.8s ease-out forwards;
            pointer-events: none; z-index: 100;
        }
        @keyframes pop {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1) translateY(-100px); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="phone-container">
        <div class="absolute top-6 w-full flex justify-center gap-6 z-[100] font-bold text-sm text-white drop-shadow-md">
            <span class="opacity-60">Takip</span>
            <span class="border-b-2 border-white pb-1">Sizin Ä°Ã§in</span>
        </div>

        <div id="videoFeed"></div>

        <nav class="absolute bottom-0 w-full bg-black/80 backdrop-blur-md border-t border-zinc-800 flex justify-around items-center py-4 z-[100]">
            <i class="fas fa-home text-white text-lg"></i>
            <i class="fas fa-search text-zinc-500 text-lg"></i>
            <div class="bg-white text-black px-3 py-0.5 rounded-md font-bold">+</div>
            <i class="fas fa-comment text-zinc-500 text-lg"></i>
            <i class="fas fa-user text-zinc-500 text-lg"></i>
        </nav>
    </div>

    <script>
        // TÃœRKÃ‡E POPÃœLER VÄ°DEO HAVUZU (YouTube Shorts)
        const trVideoIds = [
            'z2V6XgEkywY', 'Q2TmQ5rdhPg', '4xUyKJGit2I', 'MHdXBqhhchQ', '-7Zrp6pwyMY',
            'S5Z1_YI00Gg', 'R7iUo_R_C48', 'M_S0S1_E444', 'Tr_Ak_2026_1', 'Tr_Ak_2026_2'
        ];

        const sehirler = ['Ä°stanbul', 'Ankara', 'Ä°zmir', 'Antalya', 'Bursa', 'Trabzon', 'EskiÅŸehir'];
        const kullanicilar = ['akÄ±m_merkezi', 'gezginturk', 'mutfaksÄ±rlarÄ±', 'spor_gunlugu', 'komedivakti'];

        let masterPool = [];
        for(let i=0; i<100; i++) {
            masterPool.push({
                id: trVideoIds[i % trVideoIds.length],
                user: kullanicilar[Math.floor(Math.random() * kullanicilar.length)] + (i+1),
                city: sehirler[Math.floor(Math.random() * sehirler.length)],
                desc: `Harika bir TÃ¼rkÃ§e iÃ§erik! #${i+1} ðŸ‡¹ðŸ‡· #keÅŸfet #tiktoktr`
            });
        }

        let currentIndex = 0;
        const feed = document.getElementById('videoFeed');

        function createCard() {
            const v = masterPool[currentIndex];
            currentIndex = (currentIndex + 1) % masterPool.length;
            
            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <div class="w-full h-full relative" ondblclick="spawnHeart(event)">
                    <iframe src="https://www.youtube.com/embed/${v.id}?enablejsapi=1&autoplay=0&controls=0&loop=1&playlist=${v.id}&modestbranding=1&rel=0" 
                        frameborder="0" allow="autoplay; encrypted-media"></iframe>
                    
                    <div class="overlay">
                        <div class="bg-white/20 backdrop-blur-md px-2 py-1 rounded text-[10px] inline-block mb-2">
                            <i class="fas fa-map-marker-alt text-red-500"></i> ${v.city}
                        </div>
                        <h3 class="font-bold text-sm">@${v.user}</h3>
                        <p class="text-xs mt-1 opacity-80">${v.desc}</p>
                    </div>

                    <div class="side-bar">
                        <img src="https://i.pravatar.cc/100?u=${v.user}" class="w-10 h-10 rounded-full border border-white">
                        <div class="flex flex-col items-center"><i class="fas fa-heart text-2xl"></i><span class="text-[9px] font-bold">10K</span></div>
                        <div class="flex flex-col items-center"><i class="fas fa-comment-dots text-2xl"></i><span class="text-[9px] font-bold">250</span></div>
                        <div class="flex flex-col items-center"><i class="fas fa-share text-2xl"></i><span class="text-[9px] font-bold">PaylaÅŸ</span></div>
                        <div class="disc-anim"></div>
                    </div>
                </div>
            `;
            feed.appendChild(card);
            observe();
        }

        function spawnHeart(e) {
            const h = document.createElement('i');
            h.className = 'fas fa-heart heart-pop';
            h.style.left = (e.clientX - 40) + 'px';
            h.style.top = (e.clientY - 40) + 'px';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 800);
        }

        let obs;
        function observe() {
            if (obs) obs.disconnect();
            obs = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const iframe = entry.target.querySelector('iframe');
                    if (entry.isIntersecting) {
                        iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                    } else {
                        iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                    }
                });
            }, { threshold: 0.8 });
            document.querySelectorAll('.video-card').forEach(c => obs.observe(c));
        }

        feed.addEventListener('scroll', () => {
            if (feed.scrollTop + feed.clientHeight >= feed.scrollHeight - 200) createCard();
        });

        for(let i=0; i<5; i++) createCard();
    </script>
</body>
</html>
