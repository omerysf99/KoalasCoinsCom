<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Projesi - Sonsuz DÃ¶ngÃ¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #000; margin: 0; color: white; overflow: hidden; font-family: sans-serif; }
        #feed {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }
        #feed::-webkit-scrollbar { display: none; }
        .video-wrapper {
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .container-9-16 {
            height: 100vh;
            width: calc(100vh * 9 / 16);
            position: relative;
            background: #000;
        }
        video { width: 100%; height: 100%; object-fit: cover; }
        
        /* SaÄŸ MenÃ¼ - GÃ¶rseldeki Gibi */
        .side-menu {
            position: absolute;
            right: 15px;
            bottom: 100px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            z-index: 50;
        }
        .icon-group { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .icon-circle {
            background: rgba(40, 40, 40, 0.8);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: 4px;
        }
        .icon-group span { font-size: 12px; font-weight: bold; }

        /* Alt Bilgi */
        .bottom-info {
            position: absolute;
            bottom: 30px;
            left: 20px;
            right: 80px;
            z-index: 50;
        }

        /* Ses KontrolÃ¼ */
        .sound-toggle {
            position: absolute;
            top: 25px;
            right: 25px;
            z-index: 100;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 50%;
        }
    </style>
</head>
<body>

    <div class="sound-toggle" onclick="toggleMute()">
        <i id="mute-icon" class="fas fa-volume-mute text-xl"></i>
    </div>

    <div id="feed">
        </div>

    <script>
        // GÃ¶rseldeki API Bilgileri
        const TIKTOK_API = {
            clientKey: "aw01joj8wk4rnll9",
            clientSecret: "U2i9FvupyDi5pUluq2Ce1KQSHiFRLG91"
        };

        // KlasÃ¶rÃ¼ndeki Dosyalar
        const videoList = ['reels1.mp4', 'reels2.mp4', 'reels3.mp4', 'reels4.mp4', 'reels5.mp4'];
        let isMuted = true;

        const feed = document.getElementById('feed');

        // KarÄ±ÅŸtÄ±rma (Shuffle) Fonksiyonu
        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        // Video Elementi OluÅŸturma
        function addVideosToFeed() {
            const shuffled = shuffleArray([...videoList]);
            shuffled.forEach(fileName => {
                const wrapper = document.createElement('div');
                wrapper.className = 'video-wrapper';
                wrapper.innerHTML = `
                    <div class="container-9-16">
                        <video loop muted playsinline class="tk-video" src="${fileName}"></video>
                        
                        <div class="side-menu">
                            <div class="icon-group"><div class="icon-circle"><i class="fas fa-thumbs-up"></i></div><span>931</span></div>
                            <div class="icon-group"><div class="icon-circle"><i class="fas fa-thumbs-down"></i></div><span>BeÄŸenme</span></div>
                            <div class="icon-group"><div class="icon-circle"><i class="fas fa-comment-dots"></i></div><span>1</span></div>
                            <div class="icon-group"><div class="icon-circle"><i class="fas fa-share"></i></div><span>PaylaÅŸ</span></div>
                            <div class="icon-group"><div class="icon-circle"><i class="fas fa-sync"></i></div><span>Remix</span></div>
                        </div>

                        <div class="bottom-info">
                            <div class="flex items-center gap-2 mb-2">
                                <div class="w-10 h-10 bg-gradient-to-tr from-yellow-400 to-red-500 rounded-full border-2 border-white"></div>
                                <span class="font-bold">@LocalUser</span>
                                <button class="bg-white text-black px-3 py-1 rounded-full text-xs font-bold">Abone ol</button>
                            </div>
                            <p class="text-sm">API Key: ${TIKTOK_API.clientKey} ile loop aktif! ðŸ”¥</p>
                        </div>
                    </div>
                `;
                feed.appendChild(wrapper);
                observer.observe(wrapper.querySelector('video'));
            });
        }

        // Ses KontrolÃ¼
        function toggleMute() {
            isMuted = !isMuted;
            const icon = document.getElementById('mute-icon');
            icon.className = isMuted ? "fas fa-volume-mute text-xl" : "fas fa-volume-up text-xl";
            document.querySelectorAll('.tk-video').forEach(v => v.muted = isMuted);
        }

        // Otomatik Oynatma ve Sonsuz DÃ¶ngÃ¼ Tetikleyici
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const video = entry.target;
                if (entry.isIntersecting) {
                    video.play();
                    // Liste sonuna yaklaÅŸÄ±ldÄ±ysa yeni karÄ±ÅŸÄ±k videolar ekle
                    if (video === feed.lastElementChild.querySelector('video')) {
                        addVideosToFeed();
                    }
                } else {
                    video.pause();
                }
            });
        }, { threshold: 0.8 });

        // BaÅŸlat
        addVideosToFeed();

        // TarayÄ±cÄ± ses engeli iÃ§in ilk tÄ±kta sesi aÃ§ma opsiyonu
        window.addEventListener('click', () => {
            // Ä°lk etkileÅŸimde istersen sesi aÃ§abilirsin
        }, { once: true });
    </script>
</body>
</html>
