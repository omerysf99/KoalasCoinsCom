<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>KOALA KOMBAT | ULTRA DARK</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap');
        
        :root { --neon-gold: #f5bb5f; --deep-black: #050505; --card-bg: #111111; }
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        body { background-color: var(--deep-black); color: #fff; overflow: hidden; height: 100vh; width: 100vw; position: fixed; }

        /* Arka Plan Neon Efekti */
        .glow-sphere { position: absolute; width: 300px; height: 300px; background: radial-gradient(circle, rgba(245,187,95,0.15) 0%, transparent 70%); top: 45%; left: 50%; transform: translate(-50%, -50%); pointer-events: none; z-index: 0; }

        /* Üst Bar */
        .stats-header { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; z-index: 10; position: relative; }
        .stat-box { background: var(--card-bg); border: 1px solid #222; border-radius: 15px; padding: 8px; text-align: center; }

        /* Bakiye */
        .balance-section { text-align: center; margin-top: 20px; z-index: 10; position: relative; }
        .balance-value { font-family: 'Montserrat', sans-serif; font-size: 3.5rem; letter-spacing: -2px; display: flex; align-items: center; justify-content: center; gap: 10px; }

        /* ANA TIKLAMA ALANI (TAP TO EARN) */
        .tap-area { position: relative; width: 300px; height: 300px; margin: 30px auto; z-index: 10; perspective: 1000px; }
        
        .coin-wrapper {
            width: 100%; height: 100%; border-radius: 50%;
            background: linear-gradient(145deg, #1a1a1a, #000);
            border: 8px solid #1c1c1c;
            box-shadow: 0 0 50px rgba(0,0,0,1), inset 0 0 20px rgba(255,255,255,0.02);
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.05s cubic-bezier(0, 0, 0.2, 1);
            position: relative; overflow: hidden;
        }

        .coin-wrapper img { width: 90%; height: 90%; border-radius: 50%; object-fit: cover; filter: brightness(0.9); transition: 0.2s; }

        /* Tıklama Anı Animasyonları */
        .coin-wrapper:active { transform: scale(0.92); }
        .coin-wrapper:active img { filter: brightness(1.1); }

        /* Uçan Sayılar (Pro Efekt) */
        .float-text {
            position: absolute; color: #fff; font-size: 38px; font-weight: 900;
            pointer-events: none; z-index: 100; font-family: 'Montserrat', sans-serif;
            animation: float-up 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            text-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        @keyframes float-up {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-200px) scale(1.5); }
        }

        /* Enerji Paneli */
        .energy-footer { position: fixed; bottom: 100px; width: 100%; px-8; z-index: 10; padding: 0 30px; }
        .energy-bar-bg { width: 100%; height: 16px; background: #0a0a0a; border-radius: 30px; border: 1px solid #222; overflow: hidden; }
        .energy-bar-fill { height: 100%; background: linear-gradient(90deg, #f5bb5f, #ff8c00); width: 100%; transition: width 0.1s; }

        /* Navigasyon */
        nav { position: fixed; bottom: 0; width: 100%; height: 80px; background: #000; border-top: 1px solid #1a1a1a; display: flex; justify-content: space-around; align-items: center; z-index: 20; padding-bottom: env(safe-area-inset-bottom); }
        .nav-item { color: #444; text-align: center; transition: 0.3s; }
        .nav-item.active { color: var(--neon-gold); }
    </style>
</head>
<body>

    <div class="glow-sphere"></div>

    <div class="stats-header">
        <div class="stat-box">
            <p class="text-[8px] text-zinc-600 font-bold uppercase">Multi-Tap</p>
            <p class="text-xs font-black text-yellow-500">+1</p>
        </div>
        <div class="stat-box">
            <p class="text-[8px] text-zinc-600 font-bold uppercase">Profit/H</p>
            <p class="text-xs font-black text-green-500">+0</p>
        </div>
        <div class="stat-box">
            <p class="text-[8px] text-zinc-600 font-bold uppercase">Level</p>
            <p class="text-xs font-black text-blue-500">CEO</p>
        </div>
    </div>

    <div class="balance-section">
        <div class="balance-value">
            <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" class="w-10 h-10">
            <span id="ui-bal">0</span>
        </div>
        <p class="text-[10px] text-zinc-500 font-bold tracking-[5px] uppercase mt-1">Koala Kombat</p>
    </div>

    <div class="tap-area" id="tap-zone">
        <div class="coin-wrapper" id="koala-coin">
            <img src="coinkoala.jpg" alt="Koala">
        </div>
    </div>

    <div class="energy-footer">
        <div class="flex justify-between items-center mb-2">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-bolt text-yellow-400 text-2xl"></i>
                <span id="ui-energy" class="text-2xl font-black">1000</span>
                <span class="text-zinc-600 text-sm">/ 1000</span>
            </div>
            <div class="bg-zinc-900 border border-zinc-800 px-3 py-1 rounded-full text-[10px] font-bold">
                BOOST
            </div>
        </div>
        <div class="energy-bar-bg">
            <div id="energy-bar" class="energy-bar-fill"></div>
        </div>
    </div>

    <nav>
        <div class="nav-item active"><i class="fa-solid fa-hand-pointer text-2xl block mb-1"></i><span class="text-[9px] font-bold uppercase">Earn</span></div>
        <div class="nav-item" onclick="tg.showAlert('Yakında')"><i class="fa-solid fa-pickaxe text-2xl block mb-1"></i><span class="text-[9px] font-bold uppercase">Mine</span></div>
        <div class="nav-item" onclick="tg.showAlert('Yakında')"><i class="fa-solid fa-users text-2xl block mb-1"></i><span class="text-[9px] font-bold uppercase">Friends</span></div>
        <div class="nav-item" onclick="tg.showAlert('Yakında')"><i class="fa-solid fa-parachute-box text-2xl block mb-1"></i><span class="text-[9px] font-bold uppercase">Airdrop</span></div>
    </nav>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let balance = 0;
    let energy = 1000;
    const maxEnergy = 1000;
    const perTap = 1;

    const tapZone = document.getElementById('tap-zone');
    const balUI = document.getElementById('ui-bal');
    const energyUI = document.getElementById('ui-energy');
    const barUI = document.getElementById('energy-bar');

    // TAP TO EARN MOTORU
    tapZone.addEventListener('touchstart', (e) => {
        e.preventDefault();
        
        // Multi-touch desteği (Aynı anda birden fazla parmakla tıkla)
        const touches = e.changedTouches;
        
        for (let i = 0; i < touches.length; i++) {
            if (energy >= perTap) {
                // Veriyi İşle
                balance += perTap;
                energy -= perTap;
                
                // UI Güncelle
                balUI.innerText = Math.floor(balance).toLocaleString();
                energyUI.innerText = energy;
                barUI.style.width = (energy / maxEnergy * 100) + "%";

                // Efektleri Tetikle
                spawnText(touches[i].pageX, touches[i].pageY);
                
                // Geri Bildirim
                tg.HapticFeedback.impactOccurred('medium');
            } else {
                tg.HapticFeedback.notificationOccurred('error');
            }
        }
    });

    function spawnText(x, y) {
        const text = document.createElement('div');
        text.className = 'float-text';
        text.innerText = `+${perTap}`;
        text.style.left = (x - 20) + 'px';
        text.style.top = (y - 50) + 'px';
        
        document.body.appendChild(text);
        
        // Belleği temizlemek için 0.7s sonra sil
        setTimeout(() => text.remove(), 700);
    }

    // Enerji Yenilenmesi (Saniyede +3)
    setInterval(() => {
        if (energy < maxEnergy) {
            energy = Math.min(maxEnergy, energy + 3);
            energyUI.innerText = energy;
            barUI.style.width = (energy / maxEnergy * 100) + "%";
        }
    }, 1000);

</script>
</body>
</html>
