<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube TR | Keşfet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --yt-bg: #0f0f0f; --yt-text: #ffffff; --yt-hover: #272727;
            --yt-red: #ff0000; --yt-gray: #aaa; --yt-border: rgba(255,255,255,0.1);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: var(--yt-bg); color: var(--yt-text); font-family: "Roboto", sans-serif; overflow: hidden; }

        /* HEADER */
        header { height: 56px; padding: 0 16px; display: flex; align-items: center; justify-content: space-between; position: fixed; width: 100%; top: 0; background: var(--yt-bg); z-index: 2000; }
        .search-container { display: flex; align-items: center; width: 40%; }
        .search-bar { flex: 1; background: #121212; border: 1px solid #333; border-radius: 40px 0 0 40px; padding: 8px 16px; color: white; outline: none; }
        .search-btn { background: #222; border: 1px solid #333; border-left: none; padding: 8px 20px; border-radius: 0 40px 40px 0; cursor: pointer; color: white; }

        /* SIDEBAR */
        .sidebar { position: fixed; left: 0; top: 56px; width: 240px; height: 100vh; padding: 12px; background: var(--yt-bg); border-right: 1px solid var(--yt-border); }
        .side-link { display: flex; align-items: center; gap: 24px; padding: 10px 12px; border-radius: 10px; cursor: pointer; font-size: 14px; transition: 0.2s; }
        .side-link:hover, .side-link.active { background: var(--yt-hover); }

        /* EXPLORE PILLS (KEŞFET HAPLARI) */
        .explore-pills {
            display: flex; gap: 12px; padding: 12px 0; margin-bottom: 20px;
            position: sticky; top: 0; background: var(--yt-bg); z-index: 100;
            overflow-x: auto; white-space: nowrap; scrollbar-width: none;
        }
        .pill { 
            background: var(--yt-hover); padding: 6px 15px; border-radius: 8px; 
            cursor: pointer; font-size: 14px; font-weight: 500; transition: 0.3s;
        }
        .pill:hover, .pill.active { background: var(--yt-text); color: var(--yt-bg); }

        /* CONTENT */
        .content { margin-left: 240px; margin-top: 56px; height: calc(100vh - 56px); overflow-y: auto; padding: 0 24px 24px 24px; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; row-gap: 30px; }
        
        /* VIDEO CARD */
        .video-card { cursor: pointer; }
        .thumb { width: 100%; aspect-ratio: 16/9; border-radius: 12px; object-fit: cover; background: #222; }
        .v-info { display: flex; gap: 12px; margin-top: 10px; }
        .v-title { font-size: 16px; font-weight: 500; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .v-meta { color: var(--yt-gray); font-size: 14px; margin-top: 4px; }

        @media (max-width: 1000px) { .sidebar { display: none; } .content { margin-left: 0; } }
    </style>
</head>
<body>

<header>
    <div style="display:flex; align-items:center; gap:18px;">
        <i class="fas fa-bars"></i>
        <div style="font-size:20px; font-weight:bold;"><i class="fab fa-youtube" style="color:var(--yt-red)"></i> YouTube<sup>TR</sup></div>
    </div>
    <div class="search-container">
        <input type="text" class="search-bar" id="q-input" placeholder="Keşfet...">
        <button class="search-btn" onclick="exploreSearch()"><i class="fas fa-search"></i></button>
    </div>
    <div style="display:flex; gap:20px; font-size:18px;"><i class="fas fa-video"></i><i class="fas fa-bell"></i><div style="width:32px; height:32px; border-radius:50%; background:#444;"></div></div>
</header>

<div class="sidebar">
    <div class="side-link active" onclick="loadExplore('genel', this)"><i class="fas fa-home"></i> Ana Sayfa</div>
    <div class="side-link" onclick="loadExplore('trendler', this)"><i class="fas fa-fire"></i> Keşfet / Trendler</div>
    <div class="side-link" onclick="loadExplore('müzik', this)"><i class="fas fa-music"></i> Müzik</div>
    <div class="side-link" onclick="loadExplore('oyun', this)"><i class="fas fa-gamepad"></i> Oyun</div>
    <hr style="border:0.1px solid var(--yt-border); margin:10px 0;">
    <div class="side-link"><i class="fas fa-history"></i> Geçmiş</div>
</div>

<main class="content">
    <div class="explore-pills" id="pill-box">
        <div class="pill active" onclick="filterBy('Hepsi')">Hepsi</div>
        <div class="pill" onclick="filterBy('Müzik')">Müzik</div>
        <div class="pill" onclick="filterBy('Oyun')">Oyun</div>
        <div class="pill" onclick="filterBy('Teknoloji')">Teknoloji</div>
        <div class="pill" onclick="filterBy('Haberler')">Haberler</div>
        <div class="pill" onclick="filterBy('Canlı')">Canlı</div>
    </div>

    <div class="video-grid" id="explore-grid">
        </div>
</main>

<script>
    const KEY = 'AIzaSyDkaygARzpXfIXlozjyppLdXsPoE-mq1gg';

    // 1. KEŞFET / TREND MANTIĞI
    async function loadExplore(type = 'genel', el = null) {
        if(el) {
            document.querySelectorAll('.side-link').forEach(l => l.classList.remove('active'));
            el.classList.add('active');
        }

        const grid = document.getElementById('explore-grid');
        grid.innerHTML = '<p>Yükleniyor...</p>';

        let url = '';
        if(type === 'trendler') {
            // YouTube Türkiye'deki gerçek trendleri çeker (chart=mostPopular)
            url = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=TR&maxResults=15&key=${KEY}`;
        } else {
            // Belirli kategoriye göre keşfet araması yapar
            let query = type === 'genel' ? "türkçe popüler" : `türkçe ${type}`;
            url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=15&q=${query} -çocuk&type=video&relevanceLanguage=tr&key=${KEY}`;
        }

        const res = await fetch(url);
        const data = await res.json();
        renderExplore(data.items);
    }

    // 2. FİLTRE HAPLARI MANTIĞI
    function filterBy(tag) {
        document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
        event.target.classList.add('active');
        loadExplore(tag.toLowerCase());
    }

    function renderExplore(items) {
        const grid = document.getElementById('explore-grid');
        grid.innerHTML = '';
        items.forEach(item => {
            const v = item.snippet;
            const id = item.id.videoId || item.id; // Trendlerde ID direkt gelir, aramada object içinde
            grid.innerHTML += `
                <div class="video-card" onclick="window.open('https://youtube.com/watch?v=${id}')">
                    <img src="${v.thumbnails.high.url}" class="thumb">
                    <div class="v-info">
                        <div style="width:36px; height:36px; border-radius:50%; background:#333; flex-shrink:0;"></div>
                        <div>
                            <div class="v-title">${v.title}</div>
                            <div class="v-meta">${v.channelTitle}</div>
                            <div class="v-meta">Yeni • TR Keşfet</div>
                        </div>
                    </div>
                </div>`;
        });
    }

    function exploreSearch() {
        const q = document.getElementById('q-input').value;
        if(q) loadExplore(q);
    }

    // İlk yükleme
    loadExplore('genel');
</script>
</body>
</html>
