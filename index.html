<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Koalas Arcade - Dogs Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        :root { --primary: #007aff; --bg: #000; --card: #0d0d0d; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; height: 100vh; touch-action: manipulation; }

        /* --- CHECKING SCREEN --- */
        #loader { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.6s ease; }
        
        .banner-vid { width: 90%; max-width: 480px; aspect-ratio: 21/9; border-radius: 24px; object-fit: cover; margin-bottom: 30px; border: 1px solid #1a1a1a; box-shadow: 0 0 30px rgba(255,255,255,0.05); }
        
        /* Dogs Style Progress Bar */
        .progress-container { width: 280px; height: 4px; background: #111; border-radius: 10px; margin-bottom: 40px; overflow: hidden; }
        #main-bar { width: 0%; height: 100%; background: #fff; box-shadow: 0 0 15px #fff; transition: width 1s linear; }

        .stat-list { width: 300px; }
        .stat-row { display: flex; flex-direction: column; padding: 14px 0; border-bottom: 1px solid #111; opacity: 0; transform: translateY(10px); transition: 0.5s ease; }
        .stat-row.active { opacity: 1; transform: translateY(0); }
        .stat-meta { display: flex; justify-content: space-between; margin-bottom: 6px; }
        .stat-label { color: #555; font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { color: #fff; font-weight: 900; }

        /* Mini Barlar */
        .m-bar-bg { width: 100%; height: 2px; background: #080808; border-radius: 2px; }
        .m-bar-fill { width: 0%; height: 100%; background: var(--primary); transition: width 0.8s ease; }

        /* --- GAME INTERFACE --- */
        #game-ui { display: none; height: 100vh; flex-direction: column; align-items: center; padding: 20px; opacity: 0; transition: 0.8s; }
        
        .header { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; padding: 0 10px; }
        .wallet-chip { background: var(--card); padding: 8px 16px; border-radius: 20px; border: 1px solid #1a1a1a; font-size: 12px; font-weight: 800; }

        .balance-container { text-align: center; margin-bottom: 30px; }
        .total-label { color: #444; font-size: 10px; font-weight: 900; letter-spacing: 4px; text-transform: uppercase; }
        .balance-val { font-size: 72px; font-weight: 900; letter-spacing: -3px; line-height: 1; margin-top: 5px; }

        /* Clicker Engine */
        .tap-area { position: relative; width: 300px; height: 300px; display: flex; align-items: center; justify-content: center; }
        .koala-btn { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 8px solid #0a0a0a; box-shadow: 0 0 50px rgba(0,122,255,0.1); transition: transform 0.05s; }
        .koala-btn:active { transform: scale(0.92); }

        /* Energy System */
        .energy-wrap { width: 100%; max-width: 320px; margin-top: auto; margin-bottom: 100px; }
        .energy-text { display: flex; justify-content: space-between; font-weight: 900; font-size: 14px; margin-bottom: 8px; }
        .energy-bg { width: 100%; height: 14px; background: #0d0d0d; border-radius: 20px; border: 1px solid #1a1a1a; overflow: hidden; }
        #energy-fill { width: 100%; height: 100%; background: linear-gradient(90deg, #fcd535, #fff); transition: width 0.2s; }

        /* Particles */
        .particle { position: absolute; font-weight: 900; font-size: 32px; color: #fff; pointer-events: none; animation: floatUp 0.8s ease-out forwards; z-index: 100; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-120px); } }

        /* Bottom Menu */
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(5,5,5,0.9); backdrop-filter: blur(15px); border-top: 1px solid #111; display: grid; grid-template-columns: repeat(4, 1fr); padding: 15px 0 35px; }
        .nav-tab { display: flex; flex-direction: column; align-items: center; gap: 4px; color: #444; font-size: 10px; font-weight: 800; }
        .nav-tab.active { color: var(--primary); }
    </style>
</head>
<body>

    <div id="loader">
        <img src="babykoalas.jpg" class="banner-vid" onerror="this.src='https://via.placeholder.com/600x250/111/fff?text=Analyzing...'">
        <h1 class="text-xl font-black italic mb-2 tracking-tighter">CHECKING PROFILE</h1>
        <div class="progress-container"><div id="main-bar"></div></div>

        <div class="stat-list">
            <div id="r1" class="stat-row">
                <div class="stat-meta"><span class="stat-label">Years on Telegram</span><span id="v1" class="stat-value">...</span></div>
                <div class="m-bar-bg"><div id="f1" class="m-bar-fill"></div></div>
            </div>
            <div id="r2" class="stat-row">
                <div class="stat-meta"><span class="stat-label">Premium Status</span><span id="v2" class="stat-value">...</span></div>
                <div class="m-bar-bg"><div id="f2" class="m-bar-fill"></div></div>
            </div>
            <div id="r3" class="stat-row">
                <div class="stat-meta"><span class="stat-label">Activity Level</span><span id="v3" class="stat-value">...</span></div>
                <div class="m-bar-bg"><div id="f3" class="m-bar-fill"></div></div>
            </div>
            <div id="r4" class="stat-row">
                <div class="stat-meta"><span class="stat-label">Koala Tier</span><span id="v4" class="stat-value">...</span></div>
                <div class="m-bar-bg"><div id="f4" class="m-bar-fill"></div></div>
            </div>
        </div>
    </div>

    <div id="game-ui">
        <div class="header">
            <div class="wallet-chip"><i class="fa-solid fa-gem text-blue-500 mr-2"></i> OG ELITE</div>
            <div class="wallet-chip" onclick="alert('Wallet Coming Soon')"><i class="fa-solid fa-wallet mr-2"></i> CONNECT</div>
        </div>

        <div class="balance-container">
            <p class="total-label">Total Allocation</p>
            <h2 id="balance-num" class="balance-val">0</h2>
        </div>

        <div class="tap-area" id="tap-target">
            <img src="koalas.jpg" class="koala-btn" onerror="this.src='https://via.placeholder.com/300/222/fff?text=TAP'">
        </div>

        <div class="energy-wrap">
            <div class="energy-text">
                <span class="text-yellow-500"><i class="fa-solid fa-bolt"></i> 1000/1000</span>
                <span>LEVEL 1</span>
            </div>
            <div class="energy-bg"><div id="energy-fill"></div></div>
        </div>

        <div class="bottom-nav">
            <div class="nav-tab active"><i class="fa-solid fa-house"></i><span>Home</span></div>
            <div class="nav-tab"><i class="fa-solid fa-list-check"></i><span>Tasks</span></div>
            <div class="nav-tab"><i class="fa-solid fa-users"></i><span>Frens</span></div>
            <div class="nav-tab"><i class="fa-solid fa-wallet"></i><span>Wallet</span></div>
        </div>
    </div>

    <script>
        let balance = 0;
        let energy = 1000;
        const maxEnergy = 1000;

        // --- DOGS ANALYZE SYSTEM (4 SECONDS) ---
        async function initApp() {
            const mainBar = document.getElementById('main-bar');
            const wait = ms => new Promise(r => setTimeout(r, ms));

            // Saniye 1
            mainBar.style.width = "25%";
            activateRow('r1', 'v1', 'f1', '5.2 YRS');
            await wait(1000);

            // Saniye 2
            mainBar.style.width = "50%";
            activateRow('r2', 'v2', 'f2', 'YES');
            await wait(1000);

            // Saniye 3
            mainBar.style.width = "75%";
            activateRow('r3', 'v3', 'f3', 'ULTRA');
            await wait(1000);

            // Saniye 4
            mainBar.style.width = "100%";
            activateRow('r4', 'v4', 'f4', 'MYTHIC');
            await wait(1000);

            // GEÇİŞ YAP
            balance = Math.floor(Math.random() * 5000) + 2500;
            document.getElementById('balance-num').innerText = balance.toLocaleString();
            
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            loader.style.transform = 'scale(1.2)';
            
            setTimeout(() => {
                loader.style.display = 'none';
                const game = document.getElementById('game-ui');
                game.style.display = 'flex';
                setTimeout(() => game.style.opacity = '1', 50);
            }, 600);
        }

        function activateRow(rid, vid, fid, val) {
            document.getElementById(rid).classList.add('active');
            document.getElementById(vid).innerText = val;
            document.getElementById(vid).style.color = "#007aff";
            document.getElementById(fid).style.width = "100%";
        }

        // --- TAP ENGINE ---
        const tapArea = document.getElementById('tap-target');
        tapArea.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy >= 5) {
                const touch = e.touches[0];
                handleTap(touch.clientX, touch.clientY);
            }
        });

        function handleTap(x, y) {
            balance += 5;
            energy -= 5;
            updateUI();
            createParticle(x, y);
            
            // Haptic Feedback (Telegram WebApp için)
            if(window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
            }
        }

        function updateUI() {
            document.getElementById('balance-num').innerText = balance.toLocaleString();
            document.getElementById('energy-fill').style.width = `${(energy/maxEnergy)*100}%`;
            document.querySelector('.energy-text span').innerText = `⚡ ${energy}/${maxEnergy}`;
        }

        function createParticle(x, y) {
            const p = document.createElement('div');
            p.className = 'particle';
            p.innerText = '+5';
            p.style.left = `${x - 20}px`;
            p.style.top = `${y - 40}px`;
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 800);
        }

        // Enerji Yenileme
        setInterval(() => {
            if (energy < maxEnergy) {
                energy = Math.min(energy + 3, maxEnergy);
                updateUI();
            }
        }, 1000);

        window.onload = initApp;
    </script>
</body>
</html>
