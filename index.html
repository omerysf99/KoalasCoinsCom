<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Yerel Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #121212; color: white; overflow: hidden; }
        /* Video Akış Alanı */
        #video-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
        }
        .video-section {
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 20px;
        }
        video {
            height: 85vh;
            border-radius: 12px;
            background-color: black;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        .sidebar-icon {
            display: flex;
            flex-col;
            align-items: center;
            gap: 5px;
            margin-bottom: 20px;
            cursor: pointer;
        }
        .sidebar-icon i { font-size: 24px; padding: 12px; background: #2f2f2f; border-radius: 50%; }
        .sidebar-icon span { font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>

    <nav class="fixed top-0 w-full bg-transparent flex items-center justify-between px-6 h-16 z-50">
        <div class="flex items-center gap-2">
            <i class="fab fa-tiktok text-3xl text-white"></i>
            <span class="text-xl font-bold tracking-tighter">TikTok Local</span>
        </div>
    </nav>

    <div id="video-container">
        </div>

    <script>
        // Senin klasöründeki video listesi
        const videoFiles = [
            'reels1.mp4',
            'reels2.mp4',
            'reels3.mp4',
            'reels4.mp4',
            'reels5.mp4'
        ];

        const container = document.getElementById('video-container');

        // Videoları HTML'e dök
        videoFiles.forEach((file, index) => {
            const section = document.createElement('div');
            section.className = 'video-section';
            section.innerHTML = `
                <div class="relative flex gap-4 items-end">
                    <video loop class="main-video" src="${file}"></video>
                    
                    <div class="flex flex-col text-white pb-4">
                        <div class="sidebar-icon">
                            <i class="fas fa-heart"></i>
                            <span>${Math.floor(Math.random() * 50)}K</span>
                        </div>
                        <div class="sidebar-icon">
                            <i class="fas fa-comment-dots"></i>
                            <span>${Math.floor(Math.random() * 500)}</span>
                        </div>
                        <div class="sidebar-icon">
                            <i class="fas fa-share"></i>
                            <span>Paylaş</span>
                        </div>
                    </div>

                    <div class="absolute bottom-6 left-4">
                        <p class="font-bold text-lg">@user_reels_${index + 1}</p>
                        <p class="text-sm">Yerel klasörden video oynatılıyor: ${file}</p>
                    </div>
                </div>
            `;
            container.appendChild(section);
        });

        // Otomatik Oynatma Mantığı (Scroll takip eder)
        const videos = document.querySelectorAll('.main-video');
        
        const observerOptions = {
            threshold: 0.7 // Videonun %70'i göründüğünde oynat
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.play();
                } else {
                    entry.target.pause();
                    entry.target.currentTime = 0; // Başa sar
                }
            });
        }, observerOptions);

        videos.forEach(video => {
            observer.observe(video);
            // İlk tıklamada ses açma/oynatma için (Tarayıcı politikaları gereği)
            video.addEventListener('click', () => {
                if (video.paused) video.play();
                else video.pause();
            });
        });
    </script>

</body>
</html>
