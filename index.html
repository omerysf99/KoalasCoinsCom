<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haber Oku</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.5;
            color: #1d1d1f;
            background: #fff;
            margin: 0;
            padding: 0;
        }

        .container { max-width: 800px; margin: 0 auto; padding: 20px; }

        header {
            padding: 40px 0;
            border-bottom: 1px solid #eee;
            margin-bottom: 40px;
        }

        h1 { font-size: 32px; font-weight: 700; letter-spacing: -0.5px; margin: 0; }
        .subtitle { color: #86868b; font-size: 14px; margin-top: 5px; }

        .news-list { display: flex; flex-direction: column; gap: 30px; }

        .news-item {
            cursor: pointer;
            padding-bottom: 20px;
            border-bottom: 1px solid #f5f5f7;
            transition: opacity 0.2s;
        }

        .news-item:hover { opacity: 0.7; }

        .news-item h2 { font-size: 20px; margin: 0 0 8px 0; color: #1d1d1f; }
        .meta { font-size: 13px; color: #86868b; display: flex; gap: 15px; }
        .tag-ai { color: #0066cc; font-weight: 600; }

        /* Detay Paneli (Siteden çıkmadan okuma) */
        #detail-panel {
            position: fixed;
            top: 0; right: 0; bottom: 0; left: 0;
            background: #fff;
            display: none;
            overflow-y: auto;
            z-index: 1000;
            padding: 40px 20px;
        }

        .detail-content { max-width: 650px; margin: 0 auto; }
        .close-btn {
            position: sticky; top: 0; background: #f5f5f7; border: none;
            padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px;
        }

        #detail-text { font-size: 18px; line-height: 1.8; color: #333; }
        .loading { text-align: center; color: #86868b; padding: 50px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Haberler</h1>
        <div class="subtitle">AI Gündemi: Grok, ChatGPT ve Teknoloji</div>
    </header>

    <div id="loader" class="loading">İçerik yükleniyor...</div>
    <div id="news-container" class="news-list"></div>
</div>

<div id="detail-panel">
    <div class="detail-content">
        <button class="close-btn" onclick="closeDetail()">← Geri Dön</button>
        <h1 id="detail-title"></h1>
        <div id="detail-meta" class="meta" style="margin: 20px 0;"></div>
        <hr style="border: 0; border-top: 1px solid #eee;">
        <div id="detail-text">İçerik hazırlanıyor...</div>
    </div>
</div>

<script>
    // Özel El Yapımı Haberler (Senin istediğin konular)
    const manualNews = [
        {
            title: "Grok Yapay Zekası Herkese Bikini Giydiriyor: Elon Musk'tan Açıklama Geldi",
            source: "Trend Teknoloji",
            date: new Date(),
            content: "Elon Musk'ın X platformuna entegre ettiği Grok AI, görsel oluşturma özelliklerinde sınırlamaları kaldırdı. İnternet dünyası, Grok tarafından oluşturulan ve ünlü isimlere bikini giydiren görsellerle çalkalanıyor. Kullanıcılar bu 'sansürsüz' yaklaşımı hem eğlenceli buluyor hem de etik tartışmaları başlatıyor.",
            category: "GÜNCEL"
        },
        {
            title: "ChatGPT-5 Sızıntıları: Artık Sizin Yerine Karar Verebiliyor",
            source: "AI News",
            date: new Date(Date.now() - 3600000),
            content: "OpenAI'ın beklenen yeni modeli ChatGPT-5 hakkında sızan bilgilere göre, model artık sadece bir sohbet botu değil, bir 'eylem ajanı' gibi çalışacak. Maillerinizi okuyup yerinize cevap yazabilecek ve programınızı yönetebilecek.",
            category: "TEKNOLOJİ"
        }
    ];

    async function getNews() {
        const rssUrl = encodeURIComponent('https://news.google.com/rss/search?q=yapay+zeka&hl=tr&gl=TR&ceid=TR:tr');
        const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${rssUrl}`;

        try {
            const res = await fetch(apiUrl);
            const data = await res.json();
            renderNews(data.items);
        } catch (e) {
            renderNews([]);
        }
    }

    function renderNews(apiItems) {
        const container = document.getElementById('news-container');
        document.getElementById('loader').style.display = 'none';

        // Önce senin istediğin özel haberleri ekle
        manualNews.forEach(item => {
            container.innerHTML += createItemHTML(item.title, item.source, 'Az önce', item.content, item.category);
        });

        // Sonra API'den gelenleri ekle
        apiItems.slice(0, 10).forEach(item => {
            const source = item.title.split(' - ').pop();
            const title = item.title.split(' - ')[0];
            const time = timeAgo(item.pubDate);
            // API'den gelen içeriğin özeti genelde HTML formatındadır, temizleyelim
            const summary = item.description.replace(/<[^>]*>?/gm, '').substring(0, 200) + "...";
            
            container.innerHTML += createItemHTML(title, source, time, summary, "HABER");
        });
    }

    function createItemHTML(title, source, time, content, cat) {
        return `
            <div class="news-item" onclick="showDetail('${title.replace(/'/g, "\\'")}', '${source}', '${content.replace(/'/g, "\\'")}')">
                <div class="meta"><span class="tag-ai">${cat}</span> • <span>${source}</span></div>
                <h2>${title}</h2>
                <div class="meta">${time}</div>
            </div>
        `;
    }

    function showDetail(title, source, content) {
        document.getElementById('detail-title').innerText = title;
        document.getElementById('detail-meta').innerText = source + " tarafından yayınlandı";
        document.getElementById('detail-text').innerText = content;
        document.getElementById('detail-panel').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function closeDetail() {
        document.getElementById('detail-panel').style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function timeAgo(date) {
        const seconds = Math.floor((new Date() - new Date(date)) / 1000);
        let interval = seconds / 3600;
        if (interval > 1) return Math.floor(interval) + " saat önce";
        interval = seconds / 60;
        if (interval > 1) return Math.floor(interval) + " dakika önce";
        return "Şimdi";
    }

    window.onload = getNews;
</script>

</body>
</html>
