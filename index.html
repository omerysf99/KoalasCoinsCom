<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Haber Merkezi</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: #0f172a; --card: #1e293b; --text: #f8fafc;
            --accent: #ef4444; --admin: #a855f7; --border: #334155; --success: #10b981;
        }

        body { font-family: 'Inter', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding-bottom: 20px; }
        .container { max-width: 500px; margin: 0 auto; padding: 15px; }

        /* Reklam ve Güvenlik */
        #ad-overlay {
            position: fixed; inset: 0; background: rgba(15, 23, 42, 0.98);
            display: none; z-index: 10000; flex-direction: column;
            align-items: center; justify-content: center; text-align: center; padding: 20px;
        }
        .ad-box { background: var(--card); padding: 30px; border-radius: 20px; border: 2px solid var(--admin); width: 85%; }
        #security-alert {
            position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
            background: var(--admin); color: white; padding: 12px 25px; border-radius: 30px;
            font-weight: 800; display: none; z-index: 10001; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        /* Haber Kartları */
        .news-card { background: var(--card); border-radius: 16px; overflow: hidden; margin-bottom: 20px; border: 1px solid var(--border); cursor: pointer; }
        .news-img { width: 100%; height: 180px; object-fit: cover; }
        .news-body { padding: 15px; }
        .badge { font-size: 10px; font-weight: bold; padding: 3px 8px; border-radius: 5px; text-transform: uppercase; margin-bottom: 8px; display: inline-block; }
        .badge.politics { background: #6366f1; }
        .badge.economy { background: var(--success); }
        .badge.snow { background: #38bdf8; }
        .badge.flash { background: var(--accent); }
        .news-title { font-size: 1.1rem; font-weight: 700; margin: 5px 0; line-height: 1.4; }

        /* Detay Modalı */
        #detail-view { position: fixed; inset: 0; background: var(--bg); display: none; overflow-y: auto; z-index: 9999; }
        .close-detail { position: sticky; top: 15px; left: 15px; background: #000; color: #fff; border: none; padding: 10px; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; z-index: 10001; }

        #admin-panel { display: none; background: #1e1b4b; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid var(--admin); }
        input, textarea { width: 100%; background: #0f172a; border: 1px solid var(--border); color: white; padding: 10px; border-radius: 8px; margin-bottom: 10px; box-sizing: border-box; }
    </style>
</head>
<body>

<div id="ad-overlay">
    <div class="ad-box">
        <h2 style="color:var(--admin)">SPONSOR</h2>
        <p>2026 Model Elektrikli Araçlarda %20 İndirim Fırsatı!</p>
        <button class="close-detail" style="position:static; border-radius:8px; width:auto; height:auto; padding:10px 20px;" onclick="closeAd()">Kapat ve Kodu Al</button>
    </div>
</div>

<div id="security-alert">GÜVENLİK KODU: <span id="code-val">-----</span></div>

<div class="container">
    <header style="text-align:center; padding: 20px 0;">
        <h1 style="font-size: 1.5rem; letter-spacing: 2px;">06.01.2026 <span style="color:var(--accent)">HABER</span></h1>
    </header>

    <div id="admin-panel">
        <h4 style="margin:0 0 10px 0;">Admin Kontrol Paneli</h4>
        <input type="text" id="h-title" placeholder="Başlık">
        <textarea id="h-content" placeholder="Makale içeriği..."></textarea>
        <button onclick="manualAdd()" style="width:100%; background:var(--admin); color:white; border:none; padding:10px; border-radius:8px;">Yayınla</button>
    </div>

    <div id="news-container"></div>
</div>

<div id="detail-view">
    <button class="close-detail" onclick="closeDetail()">✕</button>
    <div id="detail-content" style="padding: 20px; line-height: 1.8;"></div>
</div>

<script>
    const ADMIN_ID = 8392479231;
    const container = document.getElementById('news-container');

    const newsData = [
        { tag: "economy", tText: "EKONOMİ", title: "Asgari Ücret 2026: Resmi Rakam Net 28.075 TL Oldu!", img: "https://picsum.photos/seed/money/500/300", content: "2026 yılı asgari ücret maratonu sona erdi. Bakanlık tarafından yapılan açıklamada, net asgari ücretin 28.075 TL olarak uygulanacağı belirtildi. İşveren desteği ise 1.500 TL'ye çıkarıldı." },
        { tag: "snow", tText: "KAR TATİLİ", title: "07.01.2026: Gümüşhane ve Kastamonu'da Okullar Tatil Edildi!", img: "https://picsum.photos/seed/snow/500/300", content: "Valiliklerden beklenen açıklama geldi! Yoğun kar yağışı nedeniyle Gümüşhane ve Kastamonu il genelinde, Giresun'da ise taşımalı eğitime 1 gün ara verildi." },
        { tag: "politics", tText: "SİYASET", title: "Meclis'te 2026 Seçim Yasası Tartışmaları Başladı", img: "https://picsum.photos/seed/politics/500/300", content: "Yeni anayasa çalışmaları kapsamında seçim barajı ve milletvekili dağılımı üzerine hazırlanan paket Meclis komisyonuna sunuldu." },
        { tag: "flash", tText: "SON DAKİKA", title: "Benzine 2.80 TL, Motorine 3.10 TL Dev Zam!", img: "https://picsum.photos/seed/gas/500/300", content: "Küresel petrol fiyatlarındaki artışın ardından Türkiye'de akaryakıt fiyatları güncellendi. Yeni fiyatlar bu gece yarısından itibaren pompaya yansıyacak." },
        { tag: "economy", tText: "EKONOMİ", title: "Merkez Bankası 2026 İlk Faiz Kararını Açıkladı", img: "https://picsum.photos/seed/bank/500/300", content: "Yılın ilk toplantısında faizler sabit tutuldu. Banka, dezenflasyon sürecinin kararlılıkla takip edildiğini vurguladı." },
        { tag: "politics", tText: "DÜNYA", title: "Türkiye ve Yunanistan Arasında Yeni 'Ege Kapısı' Anlaşması", img: "https://picsum.photos/seed/flag/500/300", content: "İki ülke lideri Atina'da bir araya geldi. Adalarda vizesiz geçiş süresinin tüm yıla yayılması konusunda mutabakata varıldı." },
        { tag: "snow", tText: "GÜNCEL", title: "Kastamonu'da Kar Kalınlığı 1 Metreyi Geçti", img: "https://picsum.photos/seed/mountain/500/300", content: "Küre Dağları'nda kar yağışı durmuyor. Köy yollarının %80'i ulaşıma kapandı, ekipler 7/24 çalışıyor." },
        { tag: "flash", tText: "MAGAZİN", title: "Grok Yapay Zekası Sosyal Medyayı Karıştırdı", img: "https://picsum.photos/seed/ai/500/300", content: "Elon Musk'ın filtresiz AI modeli Grok, ünlülerin dijital kurgularını oluşturduğu için AB yasalarıyla karşı karşıya kaldı." },
        { tag: "economy", tText: "KONUT", title: "İstanbul'da Kira Artış Oranı 2026'da %25'e Sabitlendi", img: "https://picsum.photos/seed/home/500/300", content: "Hükümet, barınma krizine karşı radikal bir karar alarak kira artış sınırını 1 yıl daha uzatma kararı aldığını duyurdu." },
        { tag: "politics", tText: "SAVUNMA", title: "KAAN 2026: Milli Muharip Uçak Envantere Giriyor", img: "https://picsum.photos/seed/jet/500/300", content: "TUSAŞ Genel Müdürü, KAAN uçağının ilk filosunun Mart ayında Hava Kuvvetleri'ne teslim edileceğini müjdeledi." }
    ];

    function generateCode() {
        let code;
        while(true) {
            code = Math.floor(10000 + Math.random() * 90000);
            let d = code.toString().split('').map(Number);
            if((d[0] + d[4]) % 2 === 0) break; // KURAL: İlk + Son = Çift
        }
        return code;
    }

    function showAd() { document.getElementById('ad-overlay').style.display = 'flex'; }
    function closeAd() {
        document.getElementById('ad-overlay').style.display = 'none';
        const c = generateCode();
        document.getElementById('code-val').innerText = c;
        document.getElementById('security-alert').style.display = 'block';
        setTimeout(() => document.getElementById('security-alert').style.display = 'none', 6000);
    }

    function render() {
        container.innerHTML = "";
        newsData.forEach((n, i) => {
            const div = document.createElement('div');
            div.className = 'news-card';
            div.onclick = () => openDetail(i);
            div.innerHTML = `<img src="${n.img}" class="news-img"><div class="news-body">
                <span class="badge ${n.tag}">${n.tText}</span><h2 class="news-title">${n.title}</h2>
            </div>`;
            container.appendChild(div);
        });
    }

    function openDetail(i) {
        const n = newsData[i];
        document.getElementById('detail-content').innerHTML = `<h1>${n.title}</h1><img src="${n.img}" style="width:100%; border-radius:12px;"><p>${n.content}</p>`;
        document.getElementById('detail-view').style.display = 'block';
    }
    function closeDetail() { document.getElementById('detail-view').style.display = 'none'; }

    function manualAdd() {
        const t = document.getElementById('h-title').value;
        const c = document.getElementById('h-content').value;
        if(!t) return;
        newsData.unshift({ tag: "flash", tText: "ÖZEL", title: t, img: "https://picsum.photos/seed/admin/500/300", content: c });
        render();
    }

    // Başlat
    try {
        const tg = window.Telegram.WebApp;
        if (tg.initDataUnsafe?.user?.id === ADMIN_ID) document.getElementById('admin-panel').style.display = 'block';
    } catch(e){}

    render();
    setInterval(showAd, 30000); // 30 saniye reklam döngüsü
</script>
</body>
</html>
