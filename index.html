<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Telegram Shorts</title>
    <script src="https://tg.dev/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body, html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* Kaydƒ±rma Kapsayƒ±cƒ±sƒ± */
        .shorts-container {
            width: 100%;
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }

        .shorts-container::-webkit-scrollbar {
            display: none;
        }

        /* Video Kartƒ± */
        .video-card {
            width: 100%;
            height: 100vh;
            scroll-snap-align: start;
            position: relative;
            background: #000;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Saƒü Taraftaki Butonlar (Beƒüen, Payla≈ü vs.) */
        .side-bar {
            position: absolute;
            right: 15px;
            bottom: 100px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        .icon-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        /* Alt Bilgi Alanƒ± */
        .bottom-info {
            position: absolute;
            bottom: 30px;
            left: 15px;
            right: 80px;
        }

        .username { font-weight: bold; margin-bottom: 5px; }
        .description { font-size: 14px; opacity: 0.9; }

    </style>
</head>
<body>

    <div class="shorts-container" id="container">
        <div class="video-card">
            <video src="videoplayback.mp4" loop playsinline></video>
            <div class="side-bar">
                <button class="icon-btn" onclick="tgAlert('Beƒüenildi!')">‚ù§Ô∏è</button>
                <button class="icon-btn" onclick="tgAlert('Yorumlar Yakƒ±nda')">üí¨</button>
                <button class="icon-btn" onclick="tgAlert('Payla≈üƒ±lƒ±yor...')">‚úàÔ∏è</button>
            </div>
            <div class="bottom-info">
                <div class="username">@kanal_adi</div>
                <div class="description">Telegram Mini App Shorts Denemesi! üöÄ</div>
            </div>
        </div>

        <div class="video-card">
            <video src="videoplayback2.mp4" loop playsinline></video>
            <div class="side-bar">
                <button class="icon-btn">‚ù§Ô∏è</button>
                <button class="icon-btn">üí¨</button>
                <button class="icon-btn">‚úàÔ∏è</button>
            </div>
            <div class="bottom-info">
                <div class="username">@kanal_adi</div>
                <div class="description">Kaydƒ±rmaya devam et... #telegram #shorts</div>
            </div>
        </div>
    </div>

    <script>
        // Telegram Web App Ba≈ülatma
        const tg = window.Telegram.WebApp;
        tg.expand(); // Sayfayƒ± tam ekran a√ßar
        tg.ready();

        function tgAlert(msg) {
            tg.showAlert(msg);
        }

        // Kaydƒ±rmaya g√∂re videolarƒ± y√∂net
        const videos = document.querySelectorAll('video');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.play().catch(() => {
                        entry.target.muted = true;
                        entry.target.play();
                    });
                } else {
                    entry.target.pause();
                    entry.target.currentTime = 0; // Ba≈üa sar (opsiyonel)
                }
            });
        }, { threshold: 0.7 });

        videos.forEach(v => observer.observe(v));

        // Ekrana dokunarak durdur/oynat
        document.querySelectorAll('.video-card').forEach(card => {
            card.addEventListener('click', (e) => {
                if(e.target.tagName !== 'BUTTON') {
                    const v = card.querySelector('video');
                    v.paused ? v.play() : v.pause();
                }
            });
        });
    </script>
</body>
</html>
