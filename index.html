<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok Pro - Tekil Oynatma</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; background: #000; color: white; }
        
        /* KaydÄ±rma AlanÄ± */
        .tiktok-feed {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }
        .tiktok-feed::-webkit-scrollbar { display: none; }

        .video-item {
            height: 100vh;
            width: 100%;
            scroll-snap-align: start;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }

        /* Video Bilgileri ve Butonlar */
        .overlay { position: absolute; bottom: 100px; left: 20px; z-index: 20; pointer-events: none; }
        .side-panel { position: absolute; right: 15px; bottom: 120px; display: flex; flex-direction: column; gap: 20px; z-index: 30; }
        
        /* Iframe KapsayÄ±cÄ± (Kontrol Ä°Ã§in) */
        .video-container { width: 100%; height: 100%; max-width: 450px; }
        iframe { width: 100%; height: 100%; pointer-events: all; }
    </style>
</head>
<body>

    <div class="tiktok-feed" id="feed">
        </div>

    <script>
        // Senin GeliÅŸtirici Kimliklerin (GÃ¶rselden)
        const CLIENT_ID = 'aw01joj8wk4rnll9';

        // GÃœNCEL TÃœRKÃ‡E VÄ°DEO VERÄ°LERÄ°
        const videoData = [
            { id: '7591531252507789368', user: 'istek_ozel', desc: 'Senin videon yayÄ±nda! ðŸš€' },
            { id: 'kpaFYhxDFl8', user: 'yunuscanpolat', desc: 'GÃ¼lmek garanti! ðŸ˜‚ #bahar' },
            { id: 'AY4dgEwCVyU', user: 'cerenyaldiz', desc: 'ðŸ¦ Åžampiyon Galatasaray! #gs' },
            { id: 'kz234YDHU-0', user: 'freyawie', desc: '2026 Ocak - En PopÃ¼ler ÅžarkÄ±lar ðŸŽµ' },
            { id: 'k8eQP7b2LDU', user: 'lyrics_melodic', desc: 'Aynur AydÄ±n - Bi Dakika ðŸŽ¤' }
        ];

        const feed = document.getElementById('feed');

        // VideolarÄ± OluÅŸtur
        function createFeed() {
            videoData.forEach((v, index) => {
                const div = document.createElement('div');
                div.className = 'video-item';
                div.setAttribute('data-index', index);
                
                // YouTube videolarÄ±nÄ± "shorts" modunda ve sessiz baÅŸlatÄ±lacak ÅŸekilde ekle (autoplay politikasÄ± gereÄŸi)
                const videoSrc = `https://www.youtube.com/embed/${v.id}?enablejsapi=1&autoplay=0&controls=0&loop=1&modestbranding=1&rel=0`;
                
                div.innerHTML = `
                    <div class="video-container">
                        <iframe id="player-${index}" src="${videoSrc}" frameborder="0" allow="autoplay; encrypted-media"></iframe>
                    </div>
                    <div class="overlay">
                        <h3 class="font-bold">@${v.user}</h3>
                        <p class="text-sm mt-1">${v.desc}</p>
                    </div>
                    <div class="side-panel">
                        <div class="flex flex-col items-center"><i class="fas fa-heart text-2xl mb-1"></i><span class="text-xs font-bold">12K</span></div>
                        <div class="flex flex-col items-center"><i class="fas fa-comment-dots text-2xl mb-1"></i><span class="text-xs font-bold">450</span></div>
                        <div class="flex flex-col items-center"><i class="fas fa-share text-2xl"></i></div>
                    </div>
                `;
                feed.appendChild(div);
            });
        }

        createFeed();

        // AKILLI DURDURMA VE OYNATMA MANTIÄžI
        // Intersection Observer ile ekrandaki videoyu takip et
        const observerOptions = {
            root: feed,
            threshold: 0.8 // Videonun %80'i gÃ¶rÃ¼nÃ¼r olduÄŸunda tetiklenir
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const iframe = entry.target.querySelector('iframe');
                
                if (entry.isIntersecting) {
                    // Video ekrana girdi: Oynat
                    iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                } else {
                    // Video ekrandan Ã§Ä±ktÄ±: Durdur
                    iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                }
            });
        }, observerOptions);

        // Her video kartÄ±nÄ± gÃ¶zlemle
        document.querySelectorAll('.video-item').forEach(item => {
            observer.observe(item);
        });
    </script>
</body>
</html>
