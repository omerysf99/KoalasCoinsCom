<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>KOALA ARCADE - ULTIMATE EDITION</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        /* ULTRA GENÄ°Åž CSS KÃœTÃœPHANESÄ° 
           Burada binlerce satÄ±ra yayÄ±labilecek animasyon ve tasarÄ±m detaylarÄ± tanÄ±mlanmÄ±ÅŸtÄ±r.
        */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        :root {
            --bg: #000000;
            --card: #0a0a0a;
            --accent: #ffffff;
            --koala-yellow: #fbbf24;
            --koala-red: #ef4444;
            --border: #1a1a1b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Inter', sans-serif;
            height: 100vh;
            overflow: hidden;
        }

        /* --- DEV GÃ–RSEL SÄ°STEMÄ° --- */
        .hero-section {
            width: 100%;
            padding: 10px;
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .hero-img {
            width: 100%;
            max-width: 700px; /* Dev boyut */
            height: 480px;
            object-fit: cover;
            border-radius: 60px;
            border: 2px solid var(--border);
            box-shadow: 0 0 100px rgba(255, 255, 255, 0.05);
            animation: hero-glow 5s infinite alternate;
        }

        @keyframes hero-glow {
            0% { box-shadow: 0 0 50px rgba(251, 191, 36, 0.05); }
            100% { box-shadow: 0 0 100px rgba(251, 191, 36, 0.15); }
        }

        /* --- OYUN ALANI --- */
        .page { display: none; height: 100vh; overflow-y: auto; padding: 20px 20px 160px; scroll-behavior: smooth; }
        .page.active { display: block; animation: page-in 0.4s ease-out; }

        @keyframes page-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #crash-box {
            height: 45vh;
            background: radial-gradient(circle at center, #0d0d0d 0%, #000 100%);
            border: 1px solid var(--border);
            border-radius: 50px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #multiplier-text {
            font-size: 90px;
            font-weight: 900;
            z-index: 10;
            letter-spacing: -4px;
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 40px rgba(255,255,255,0.2);
        }

        #rocket-obj {
            font-size: 70px;
            position: absolute;
            bottom: 20%;
            transition: transform 0.1s linear;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.3));
        }

        /* --- BUTONLAR VE NAV --- */
        .nav-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 120px;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(25px);
            border-top: 1px solid var(--border);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            padding-bottom: 35px;
            z-index: 1000;
        }

        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #444;
            gap: 5px;
            transition: 0.3s;
        }

        .nav-btn.active { color: white; }
        .nav-btn i { font-size: 30px; }
        .nav-btn span { font-size: 10px; font-weight: 900; text-transform: uppercase; }

        .action-button {
            width: 100%;
            padding: 26px;
            border-radius: 35px;
            font-weight: 900;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: -1px;
            transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 0 #333;
        }

        .action-button:active { transform: translateY(5px); box-shadow: 0 5px 0 #333; }
        .cashout-mode { background: var(--koala-yellow) !important; color: black !important; box-shadow: 0 10px 0 #92400e !important; }

        .balance-hero { font-size: 75px; font-weight: 900; letter-spacing: -5px; text-align: center; margin: 5px 0; }

    </style>
</head>
<body>

    <div id="wrapper">
        <main id="home-page" class="page active">
            <div class="hero-section">
                <img src="babykoalas.jpg" class="hero-img" alt="Koala Elite">
            </div>
            
            <div class="balance-hero" id="bal-val">0</div>
            <p class="text-zinc-600 font-black text-[10px] text-center uppercase tracking-[0.7em] mb-8">$KOALA BALANCE</p>
            
            <div class="space-y-4 px-2">
                <div class="bg-zinc-900/40 p-6 rounded-[35px] border border-zinc-800 flex items-center" onclick="addBonus()">
                    <div class="w-14 h-14 bg-white text-black rounded-2xl flex items-center justify-center text-2xl mr-4">
                        <i class="fa-solid fa-gift"></i>
                    </div>
                    <div class="flex-1">
                        <p class="font-black text-xs uppercase italic">Daily Welcome</p>
                        <p class="text-zinc-500 text-[10px] font-bold">CLAIM +500 $KOALA</p>
                    </div>
                </div>
            </div>
        </main>

        <main id="game-page" class="page">
            <header class="text-center mb-8">
                <h2 class="text-2xl font-black italic uppercase tracking-tighter">Koala Launch</h2>
                <p class="text-zinc-500 text-[10px] font-bold">PREDICT THE CRASH</p>
            </header>

            <div id="crash-box" class="mb-10">
                <div id="multiplier-text">1.00x</div>
                <div id="rocket-obj">ðŸš€</div>
            </div>

            <div class="flex gap-4 mb-8">
                <button onclick="updateBet(100)" id="bet-100" class="flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-white text-black">100</button>
                <button onclick="updateBet(1000)" id="bet-1000" class="flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-zinc-900">1000</button>
            </div>

            <button id="main-trigger" onclick="handleGame()" class="action-button bg-white text-black">Launch Rocket</button>
        </main>

        <main id="drop-page" class="page">
            <h2 class="text-4xl font-black italic uppercase text-center mb-8">Airdrop</h2>
            <img src="coinkoala.jpg" class="w-full h-72 object-cover rounded-[60px] mb-8 border border-zinc-800">
            
            <div class="bg-zinc-900/30 p-10 rounded-[50px] border border-zinc-800 text-center">
                <p class="text-zinc-500 text-xs font-black uppercase tracking-widest mb-6">Snapshot Status: Pending</p>
                <button class="w-full bg-white text-black font-black py-5 rounded-2xl uppercase">Connect TON Wallet</button>
            </div>
        </main>

        <nav class="nav-footer">
            <div class="nav-btn active" onclick="navigate('home-page', this)"><i class="fa-solid fa-house-user"></i><span>Home</span></div>
            <div class="nav-btn" onclick="navigate('game-page', this)"><i class="fa-solid fa-rocket"></i><span>Play</span></div>
            <div class="nav-btn" onclick="navigate('drop-page', this)"><i class="fa-solid fa-wallet"></i><span>Drop</span></div>
        </nav>
    </div>

    <script>
        /* KOALA ENGINE v5.0 
           BaÄŸÄ±mlÄ±lÄ±k ve Matematiksel Algoritma Grubu
        */

        let balance = parseInt(localStorage.getItem('k_bal')) || 5000;
        let betAmount = 100;
        let isRunning = false;
        let currentMultiplier = 1.00;
        let crashPoint = 0;
        let gameLoop;
        let sessionGames = 0;

        // UI SYNC
        function sync() {
            document.getElementById('bal-val').innerText = balance.toLocaleString();
            localStorage.setItem('k_bal', balance);
        }
        sync();

        // NAV SÄ°STEMÄ°
        function navigate(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        function updateBet(val) {
            if(isRunning) return;
            betAmount = val;
            document.getElementById('bet-100').className = val === 100 ? 'flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-white text-black' : 'flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-zinc-900';
            document.getElementById('bet-1000').className = val === 1000 ? 'flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-white text-black' : 'flex-1 py-4 rounded-2xl border border-zinc-800 font-black bg-zinc-900';
        }

        // --- OYUN MANTIÄžI ---
        function handleGame() {
            if(!isRunning) startFlight();
            else cashOut();
        }

        function startFlight() {
            if(balance < betAmount) return alert("Yetersiz Bakiye!");
            
            isRunning = true;
            balance -= betAmount;
            sync();
            sessionGames++;

            // BAÄžIMLILIK ALGORÄ°TMASI:
            // Ä°lk 2 oyun kesin 2x+ kazanÃ§. Sonraki oyunlarda patlama ihtimali artar.
            if(sessionGames <= 2) {
                crashPoint = (Math.random() * 3 + 2.1).toFixed(2);
            } else {
                let risk = Math.random();
                if(risk > 0.6) crashPoint = (Math.random() * 4 + 1.2).toFixed(2); // Kazanabilir
                else crashPoint = (Math.random() * 0.4 + 1.02).toFixed(2); // HÄ±zlÄ± patlar
            }

            const btn = document.getElementById('main-trigger');
            const rocket = document.getElementById('rocket-obj');
            const display = document.getElementById('multiplier-text');
            
            btn.innerText = "Cash Out";
            btn.classList.add('cashout-mode');
            currentMultiplier = 1.00;

            gameLoop = setInterval(() => {
                currentMultiplier += 0.02;
                display.innerText = currentMultiplier.toFixed(2) + "x";
                rocket.style.transform = `translateY(-${(currentMultiplier - 1) * 40}px) rotate(${Math.sin(currentMultiplier) * 5}deg)`;

                if(currentMultiplier >= crashPoint) {
                    crash();
                }
            }, 50);
        }

        function cashOut() {
            clearInterval(gameLoop);
            let win = Math.floor(betAmount * currentMultiplier);
            balance += win;
            sync();
            alert(`KAZANDIN! ${currentMultiplier.toFixed(2)}x Ã§arpan ile ${win} $KOALA aldÄ±n!`);
            resetUI();
        }

        function crash() {
            clearInterval(gameLoop);
            isRunning = false;
            document.getElementById('multiplier-text').innerText = "BOOM!";
            document.getElementById('multiplier-text').style.color = "#ef4444";
            document.getElementById('rocket-obj').innerText = "ðŸ’¥";
            
            setTimeout(() => {
                alert("Roket patladÄ±! Bir dahaki sefere daha hÄ±zlÄ± davran.");
                resetUI();
            }, 600);
        }

        function resetUI() {
            isRunning = false;
            const btn = document.getElementById('main-trigger');
            btn.innerText = "Launch Rocket";
            btn.classList.remove('cashout-mode');
            document.getElementById('multiplier-text').innerText = "1.00x";
            document.getElementById('multiplier-text').style.color = "white";
            document.getElementById('rocket-obj').innerText = "ðŸš€";
            document.getElementById('rocket-obj').style.transform = "translateY(0)";
        }

        function addBonus() {
            balance += 500;
            sync();
            alert("GÃ¼nlÃ¼k bonus eklendi!");
        }

    </script>
</body>
</html>
