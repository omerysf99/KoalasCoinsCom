<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hamster Kombat - Tap to Earn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            background: #000; 
            color: #fff; 
            font-family: 'Inter', sans-serif; 
            overflow: hidden; 
            height: 100vh;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Ana TÄ±klama AlanÄ± Efekti */
        .tap-area {
            position: relative;
            width: 280px;
            height: 280px;
            border-radius: 50%;
            background: radial-gradient(circle, #3a3f47 0%, #111315 100%);
            border: 10px solid #2d333b;
            box-shadow: 0 0 50px rgba(243, 186, 47, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.05s active;
        }

        .tap-area:active {
            transform: scale(0.96);
        }

        /* YÃ¼zen SayÄ± Animasyonu */
        .floating-text {
            position: absolute;
            color: #fff;
            font-size: 32px;
            font-weight: 900;
            pointer-events: none;
            animation: floatAndFade 0.7s ease-out forwards;
            z-index: 100;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        @keyframes floatAndFade {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-120px) scale(1.2); }
        }

        .gold-glow {
            text-shadow: 0 0 20px rgba(243, 186, 47, 0.6);
        }

        .progress-bar-fill {
            transition: width 0.2s ease-out;
            background: linear-gradient(90deg, #f3ba2f, #ffea00);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-between py-8">

    <div class="text-center">
        <p class="text-gray-400 text-sm font-bold uppercase tracking-widest mb-2">Bakiye</p>
        <div class="flex items-center gap-3">
            <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" class="w-12 h-12" alt="coin">
            <span id="score" class="text-5xl font-black gold-glow">0</span>
        </div>
        <div class="mt-4 flex gap-4 justify-center">
            <div class="bg-gray-900 border border-gray-800 rounded-full px-4 py-1 text-xs font-bold text-yellow-500">
                TÄ±k BaÅŸÄ±: +<span id="tpc">1</span>
            </div>
            <div class="bg-gray-900 border border-gray-800 rounded-full px-4 py-1 text-xs font-bold text-blue-400">
                Lvl: <span id="lvl">1</span>
            </div>
        </div>
    </div>

    <div class="relative">
        <div id="tapTarget" class="tap-area">
            <span class="text-[140px]">ğŸ¹</span>
        </div>
    </div>

    <div class="w-full px-6 max-w-md">
        <div class="flex justify-between items-center mb-2">
            <div class="flex items-center gap-2 font-black text-xl text-yellow-500">
                <span>âš¡</span>
                <span id="energyText">1000</span>
                <span class="text-gray-600 text-sm">/ 1000</span>
            </div>
            <button onclick="upgradeTap()" class="bg-yellow-600 hover:bg-yellow-500 text-black text-[10px] font-bold px-3 py-1 rounded-lg transition">
                GELÄ°ÅTÄ°R (500 ğŸ’°)
            </button>
        </div>
        
        <div class="w-full bg-gray-800 h-4 rounded-full p-1">
            <div id="energyBar" class="progress-bar-fill h-full rounded-full" style="width: 100%"></div>
        </div>

        <p class="text-center text-gray-500 text-[10px] mt-6 font-medium italic">
            "Tap to Earn" - Daha fazla kazanmak iÃ§in tÄ±kla ve geliÅŸtir!
        </p>
    </div>

    <script>
        let score = parseInt(localStorage.getItem('h_score')) || 0;
        let energy = 1000;
        let maxEnergy = 1000;
        let tapValue = parseInt(localStorage.getItem('h_tapValue')) || 1;
        
        const scoreEl = document.getElementById('score');
        const energyEl = document.getElementById('energyText');
        const energyBar = document.getElementById('energyBar');
        const tpcEl = document.getElementById('tpc');
        const tapTarget = document.getElementById('tapTarget');

        // BaÅŸlangÄ±Ã§ DeÄŸerlerini YÃ¼kle
        function init() {
            scoreEl.innerText = score.toLocaleString();
            tpcEl.innerText = tapValue;
            updateEnergyUI();
        }

        // TÄ±klama OlayÄ± (Multi-touch destekli)
        tapTarget.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Sayfa kaymasÄ±nÄ± engelle
            
            // Her bir parmak dokunuÅŸu iÃ§in iÅŸlem yap
            for (let i = 0; i < e.changedTouches.length; i++) {
                handleTap(e.changedTouches[i].clientX, e.changedTouches[i].clientY);
            }
        });

        // Mouse ile test iÃ§in (Opsiyonel)
        tapTarget.addEventListener('mousedown', (e) => {
            handleTap(e.clientX, e.clientY);
        });

        function handleTap(x, y) {
            if (energy >= tapValue) {
                // Skoru ArtÄ±r
                score += tapValue;
                energy -= tapValue;

                // UI GÃ¼ncelle
                scoreEl.innerText = score.toLocaleString();
                updateEnergyUI();
                
                // Efekt OluÅŸtur
                createFloatingText(x, y);

                // Veriyi Kaydet
                localStorage.setItem('h_score', score);
                
                // Hafif TitreÅŸim
                if (navigator.vibrate) navigator.vibrate(10);
            }
        }

        function createFloatingText(x, y) {
            const floating = document.createElement('div');
            floating.className = 'floating-text';
            floating.innerText = `+${tapValue}`;
            floating.style.left = `${x - 20}px`;
            floating.style.top = `${y - 40}px`;
            
            document.body.appendChild(floating);
            
            setTimeout(() => {
                floating.remove();
            }, 700);
        }

        function updateEnergyUI() {
            energyEl.innerText = Math.floor(energy);
            const percent = (energy / maxEnergy) * 100;
            energyBar.style.width = percent + '%';
        }

        // TÄ±klama DeÄŸerini GeliÅŸtirme
        function upgradeTap() {
            if (score >= 500) {
                score -= 500;
                tapValue += 1;
                localStorage.setItem('h_tapValue', tapValue);
                tpcEl.innerText = tapValue;
                scoreEl.innerText = score.toLocaleString();
                alert("BaÅŸarÄ±lÄ±! TÄ±k baÅŸÄ± kazancÄ±n arttÄ±.");
            } else {
                alert("Yetersiz bakiye! 500 coin gerekiyor.");
            }
        }

        // Enerji Yenilenmesi (Her saniye +3)
        setInterval(() => {
            if (energy < maxEnergy) {
                energy = Math.min(maxEnergy, energy + 3);
                updateEnergyUI();
            }
        }, 1000);

        init();
    </script>
</body>
</html>
