<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>KOALA - OFFICIAL TON CONNECT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; height: 100vh; }

        /* --- TON CONNECT MODAL (ORIJINAL UI) --- */
        #ton-modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 20000;
            display: none; align-items: flex-end; backdrop-filter: blur(8px);
        }
        #ton-modal {
            width: 100%; background: #1c1c1e; border-top-left-radius: 24px; border-top-right-radius: 24px;
            padding: 24px; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .wallet-item {
            display: flex; align-items: center; background: #2c2c2e; padding: 14px 18px;
            border-radius: 16px; margin-bottom: 12px; cursor: pointer;
        }
        .wallet-item:active { background: #3a3a3c; transform: scale(0.98); }
        .wallet-logo { width: 40px; height: 40px; border-radius: 10px; margin-right: 15px; }

        /* --- DASHBOARD --- */
        .balance-huge { font-size: 84px; font-weight: 900; line-height: 1; letter-spacing: -3px; }
        .dogs-card { background: #111; border-radius: 20px; padding: 18px; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; }
        
        .check-icon { width: 22px; height: 22px; border-radius: 50%; border: 2px solid #222; display: flex; items-center; justify-content: center; font-size: 10px; }
        .check-icon.active { background: #fff; border-color: #fff; color: #000; }

        /* --- NAV --- */
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #000; border-top: 1px solid #111; display: grid; grid-template-columns: repeat(3, 1fr); padding: 12px 0 35px; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #444; font-size: 10px; font-weight: 800; gap: 4px; text-transform: uppercase; }
        .nav-item.active { color: #fff; }

        .page-content { display: none; height: 100%; overflow-y: auto; padding: 20px 20px 140px; }
        .active-page { display: flex; flex-direction: column; }
        .btn-main { background: #fff; color: #000; font-weight: 900; width: 100%; padding: 20px; border-radius: 18px; text-transform: uppercase; }
    </style>
</head>
<body>

    <div id="ton-modal-overlay" onclick="closeWalletModal()">
        <div id="ton-modal" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-xl font-black">Connect Wallet</h3>
                <i class="fa-solid fa-xmark text-zinc-500" onclick="closeWalletModal()"></i>
            </div>
            
            <div class="wallet-item" onclick="linkWallet('Telegram Wallet', 'https://cryptologos.cc/logos/telegram-messenger-logo.png')">
                <img src="https://cryptologos.cc/logos/telegram-messenger-logo.png" class="wallet-logo">
                <div class="flex-1">
                    <p class="font-black text-sm">Wallet on Telegram</p>
                    <p class="text-[10px] text-zinc-500 font-bold">The official way to link</p>
                </div>
                <span class="bg-blue-600/10 text-blue-500 text-[9px] px-2 py-1 rounded font-black">POPULAR</span>
            </div>

            <div class="wallet-item" onclick="linkWallet('Tonkeeper', 'https://tonkeeper.com/assets/img/tonkeeper_logo.png')">
                <img src="https://tonkeeper.com/assets/img/tonkeeper_logo.png" class="wallet-logo">
                <div class="flex-1 font-black text-sm">Tonkeeper</div>
                <i class="fa-solid fa-chevron-right text-zinc-700"></i>
            </div>

            <p class="text-center text-zinc-500 text-[10px] font-bold mt-4">By connecting, you agree to the Terms.</p>
        </div>
    </div>

    <div id="main-app">
        
        <div id="page-home" class="page-content active-page">
            <div class="mt-16 mb-12 text-center">
                <div class="balance-huge" id="balance-val">100</div>
                <p class="text-zinc-500 font-black text-xs tracking-[0.3em] uppercase mt-4">$KOALA</p>
            </div>

            <h3 class="text-zinc-600 font-black text-[10px] uppercase tracking-widest mb-4">Missions</h3>
            
            <div class="dogs-card" onclick="watchAd(this)">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-zinc-900 rounded-2xl flex items-center justify-center text-xl text-white"><i class="fa-solid fa-video"></i></div>
                    <div>
                        <p class="font-black text-sm uppercase">Watch Ads</p>
                        <p class="text-zinc-600 text-[10px] font-bold">+1 $KOALA per video</p>
                    </div>
                </div>
                <i class="fa-solid fa-chevron-right text-zinc-800"></i>
            </div>
        </div>

        <div id="page-airdrop" class="page-content">
            <h2 class="text-4xl font-black italic uppercase mt-10 mb-8">Airdrop</h2>
            
            <div class="bg-zinc-950 rounded-3xl p-6 mb-8 border border-zinc-900">
                <div class="flex justify-between items-center py-4 border-b border-zinc-900">
                    <span class="font-black text-xs uppercase">Account Verified</span>
                    <div class="check-icon active"><i class="fa-solid fa-check"></i></div>
                </div>
                <div class="flex justify-between items-center py-4">
                    <span class="font-black text-xs uppercase">Wallet Linked</span>
                    <div id="wallet-check-icon" class="check-icon"><i class="fa-solid fa-check"></i></div>
                </div>
            </div>

            <div id="wallet-btn-area">
                <button class="btn-main" onclick="openWalletModal()">Connect Wallet</button>
            </div>

            <div id="connected-info" class="hidden text-center mt-6">
                <div class="bg-zinc-900 p-5 rounded-3xl border border-zinc-800">
                    <img id="active-logo" src="" class="w-12 h-12 mx-auto mb-4 rounded-xl">
                    <p id="active-name" class="font-black text-sm uppercase mb-1"></p>
                    <p id="addr" class="font-mono text-[10px] text-zinc-500 font-bold">UQ...</p>
                    <button class="text-red-900 font-black text-[10px] uppercase mt-4" onclick="location.reload()">Disconnect</button>
                </div>
            </div>
        </div>

        <div id="page-games" class="page-content flex items-center justify-center text-center">
            <div>
                <i class="fa-solid fa-hourglass-start text-4xl text-zinc-800 mb-4"></i>
                <h2 class="text-xl font-black uppercase italic">Coming Soon</h2>
                <p class="text-zinc-600 font-bold text-xs mt-1">Koala Games are in development.</p>
            </div>
        </div>

        <div class="nav-bar">
            <div class="nav-item active" onclick="nav('home', this)"><i class="fa-solid fa-bone"></i><span>Home</span></div>
            <div class="nav-item" onclick="nav('games', this)"><i class="fa-solid fa-paw"></i><span>Games</span></div>
            <div class="nav-item" onclick="nav('airdrop', this)"><i class="fa-solid fa-parachute-box"></i><span>Airdrop</span></div>
        </div>
    </div>

    <script>
        let balance = 100;

        // --- WALLET MODAL ---
        function openWalletModal() {
            const overlay = document.getElementById('ton-modal-overlay');
            overlay.style.display = 'flex';
            setTimeout(() => document.getElementById('ton-modal').style.transform = 'translateY(0)', 10);
            if(window.Telegram?.WebApp) window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
        }

        function closeWalletModal() {
            document.getElementById('ton-modal').style.transform = 'translateY(100%)';
            setTimeout(() => document.getElementById('ton-modal-overlay').style.display = 'none', 300);
        }

        function linkWallet(name, logo) {
            closeWalletModal();
            const btn = document.querySelector('.btn-main');
            btn.innerText = "LINKING...";
            
            setTimeout(() => {
                document.getElementById('wallet-btn-area').classList.add('hidden');
                document.getElementById('connected-info').classList.remove('hidden');
                document.getElementById('wallet-check-icon').classList.add('active');
                document.getElementById('active-name').innerText = name;
                document.getElementById('active-logo').src = logo;
                document.getElementById('addr').innerText = "UQ" + Math.random().toString(36).substr(2, 10).toUpperCase();
                if(window.Telegram?.WebApp) window.Telegram.WebApp.HapticFeedback.notificationOccurred('success');
            }, 1200);
        }

        // --- ADS LOGIC ---
        function watchAd(el) {
            const original = el.innerHTML;
            el.innerHTML = `<div class="w-full text-center py-3 font-black text-xs uppercase animate-pulse">Watching Video...</div>`;
            el.style.pointerEvents = "none";

            setTimeout(() => {
                balance += 1;
                document.getElementById('balance-val').innerText = balance;
                el.innerHTML = original;
                el.style.pointerEvents = "all";
                if(window.Telegram?.WebApp) window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
            }, 2500);
        }

        // --- NAV ---
        function nav(page, el) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active-page'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + page).classList.add('active-page');
            el.classList.add('active');
        }
    </script>
</body>
</html>
