<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>KOALA ARCADE | SEASON 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Inter', sans-serif; user-select: none; }
        body { background-color: #000; color: #fff; overflow: hidden; height: 100vh; position: fixed; width: 100%; }

        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); backdrop-filter: blur(15px); }
        .page { display: none; height: 100vh; overflow-y: auto; padding: 20px 20px 140px; }
        .page.active { display: block; animation: fadeIn 0.2s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Tap Mechanism */
        .tap-area { display: flex; flex-direction: column; align-items: center; padding-top: 10px; }
        .tap-circle { width: 230px; height: 230px; margin: 15px auto; position: relative; }
        .tap-img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 6px solid #111; transition: 0.1s; touch-action: manipulation; }
        .tap-img:active { transform: scale(0.92); border-color: #fff; }

        /* Navigation */
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; height: 90px; background: #050505; border-top: 1px solid #111; display: grid; grid-template-columns: repeat(4, 1fr); padding-bottom: 20px; z-index: 1000; }
        .nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; color: #444; font-size: 10px; font-weight: 800; text-transform: uppercase; }
        .nav-item.active { color: #fff; }
        .nav-item i { font-size: 20px; margin-bottom: 4px; }

        .energy-bar { height: 8px; background: #0a0a0a; border-radius: 20px; overflow: hidden; border: 1px solid #151515; }
        #e-fill { height: 100%; width: 100%; background: #fff; transition: 0.2s linear; }

        .f-text { position: absolute; color: white; font-weight: 900; font-size: 32px; pointer-events: none; animation: floatUp 0.6s ease-out forwards; z-index: 2000; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-100px); } }

        /* Stats Cards */
        .stat-card { background: linear-gradient(145deg, #0a0a0a, #111); border: 1px solid #1a1a1a; padding: 20px; border-radius: 28px; }
        .usdt-glow { color: #00ffa3; text-shadow: 0 0 15px rgba(0,255,163,0.3); }

        #ad-view { position: fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:10000; display:none; flex-direction:column; align-items:center; justify-content:center; }
    </style>
</head>
<body>

    <div id="ad-view">
        <div class="text-center">
            <div class="w-12 h-12 border-2 border-white/10 border-t-white rounded-full animate-spin mx-auto mb-6"></div>
            <h2 id="ad-sec" class="text-7xl font-black italic">10</h2>
            <p class="text-zinc-600 font-bold text-[10px] uppercase tracking-widest mt-4">Generating Reward</p>
        </div>
    </div>

    <div id="main-app">
        
        <div id="p-earn" class="page active">
            <div class="tap-area">
                <div class="text-center mb-4">
                    <p class="text-zinc-600 font-black text-[10px] uppercase tracking-[0.4em]">Koala Balance</p>
                    <h1 id="bal-txt" class="text-6xl font-black tracking-tighter">0</h1>
                </div>

                <div class="tap-circle">
                    <img src="coinkoala.jpg" id="koala-btn" class="tap-img" onclick="handleTap(event)">
                </div>

                <div class="w-full max-w-[240px] mb-8">
                    <div class="flex justify-between items-center mb-2 px-1">
                        <span class="text-[9px] font-black text-zinc-500 uppercase">‚ö° ENERGY: <span id="e-txt">1000/1000</span></span>
                    </div>
                    <div class="energy-bar"><div id="e-fill"></div></div>
                </div>
            </div>

            <div class="w-full px-2">
                <p class="text-zinc-600 font-black text-[10px] uppercase tracking-widest mb-4">Quick Tasks</p>
                <div class="space-y-3">
                    <div class="glass p-4 rounded-2xl flex justify-between items-center" onclick="triggerAd()">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-yellow-500/10 rounded-xl flex items-center justify-center text-yellow-500"><i class="fa-solid fa-play text-xs"></i></div>
                            <div><p class="text-xs font-bold">Watch Ad</p><p class="text-[9px] text-zinc-500">+1 $KOALA</p></div>
                        </div>
                        <button class="bg-white text-black text-[9px] font-black px-3 py-1.5 rounded-lg uppercase">Claim</button>
                    </div>
                    <div class="glass p-4 rounded-2xl flex justify-between items-center" onclick="openTG()">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-blue-500/10 rounded-xl flex items-center justify-center text-blue-400"><i class="fa-brands fa-telegram text-xs"></i></div>
                            <div><p class="text-xs font-bold">Join Channel</p><p class="text-[9px] text-zinc-500">+50,000 $KOALA</p></div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-zinc-800 text-xs"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="p-stats" class="page">
            <h2 class="text-3xl font-black italic mb-6 uppercase tracking-tighter">Arcade Stats</h2>
            
            <div class="stat-card mb-4 border-2 border-green-500/20">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-zinc-500 text-[10px] font-black uppercase tracking-widest">Season 1 Pool</p>
                        <h3 class="text-4xl font-black usdt-glow mt-1">50,000 USDT</h3>
                    </div>
                    <div class="bg-green-500/10 text-green-500 text-[9px] font-black px-3 py-1 rounded-full border border-green-500/20">LIVE</div>
                </div>
                <div class="space-y-2">
                    <div class="flex justify-between text-[9px] font-black uppercase text-zinc-500 px-1">
                        <span>Season Progress</span>
                        <span>74%</span>
                    </div>
                    <div class="h-2 bg-zinc-900 rounded-full overflow-hidden">
                        <div class="h-full bg-green-500 w-[74%] shadow-[0_0_10px_#22c55e]"></div>
                    </div>
                    <p class="text-[10px] text-zinc-400 mt-3 text-center font-medium italic">"Reward distribution based on your $KOALA rank"</p>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3 mb-4">
                <div class="stat-card">
                    <p class="text-zinc-600 text-[9px] font-black uppercase">Active Miners</p>
                    <p class="text-xl font-black mt-1">1,248,502</p>
                </div>
                <div class="stat-card">
                    <p class="text-zinc-600 text-[9px] font-black uppercase">Burnt $KOALA</p>
                    <p class="text-xl font-black mt-1 text-red-500">2.4B</p>
                </div>
            </div>

            <div class="glass p-6 rounded-[30px] flex items-center gap-5">
                <div class="w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-2xl">üöÄ</div>
                <div>
                    <p class="text-xs font-bold text-white uppercase">TGE Listing Info</p>
                    <p class="text-[10px] text-zinc-500 mt-1">Q2 2026 - Major exchanges ready. Keep mining to increase your share.</p>
                </div>
            </div>
        </div>

        <div id="p-friends" class="page text-center">
            <div class="w-20 h-20 bg-zinc-900 rounded-3xl mx-auto mb-6 flex items-center justify-center text-3xl border border-zinc-800">ü§ù</div>
            <h2 class="text-3xl font-black italic mb-2 uppercase">Invite Crew</h2>
            <p class="text-zinc-500 text-sm mb-10 px-6">Invite friends and get <span class="text-white">10% commission</span> on all their taps!</p>
            <div class="glass p-5 rounded-3xl mb-6">
                <p class="text-[10px] text-zinc-600 font-black uppercase mb-2">My Unique ID</p>
                <p id="ref-preview" class="text-xs font-mono text-zinc-400 truncate">t.me/KoalasUsdt_Bot?start=r...</p>
            </div>
            <button onclick="shareLink()" class="w-full bg-white text-black p-5 rounded-3xl font-black uppercase text-sm active:scale-95 transition-transform">Share Invite Link</button>
        </div>

        <div id="p-drop" class="page text-center">
            <h2 class="text-3xl font-black italic mb-10 uppercase">Wallet</h2>
            <div id="w-setup" class="glass p-8 rounded-[40px]">
                <p class="text-sm font-bold mb-8 text-zinc-400 italic">Connect your TON wallet to receive USDT rewards.</p>
                <input type="text" id="w-input" class="w-full bg-black border border-zinc-900 p-5 rounded-2xl text-white font-bold text-xs mb-4 outline-none focus:border-green-500 transition-colors" placeholder="UQ... TON Address">
                <button onclick="saveW()" class="w-full bg-white text-black p-5 rounded-2xl font-black uppercase text-sm">Connect Wallet</button>
            </div>
            <div id="w-done" class="hidden">
                <div class="w-20 h-20 bg-green-500/10 rounded-full mx-auto flex items-center justify-center mb-6 border border-green-500/20">
                    <i class="fa-solid fa-check text-3xl text-green-500"></i>
                </div>
                <p id="w-preview" class="text-zinc-500 text-[10px] font-mono mb-8 break-all"></p>
                <button onclick="resetW()" class="text-zinc-600 text-xs font-black uppercase underline">Change Wallet</button>
            </div>
        </div>

        <nav class="nav-bar">
            <div class="nav-item active" onclick="tab('earn', this)"><i class="fa-solid fa-house"></i><span>Home</span></div>
            <div class="nav-item" onclick="tab('stats', this)"><i class="fa-solid fa-chart-pie"></i><span>Stats</span></div>
            <div class="nav-item" onclick="tab('friends', this)"><i class="fa-solid fa-users"></i><span>Friends</span></div>
            <div class="nav-item" onclick="tab('drop', this)"><i class="fa-solid fa-wallet"></i><span>Wallet</span></div>
        </nav>
    </div>

    <script>
        let state = {
            bal: parseFloat(localStorage.getItem('k_bal')) || 0,
            energy: parseFloat(localStorage.getItem('k_energy')) || 1000,
            lastSync: parseInt(localStorage.getItem('k_sync')) || Date.now(),
            wallet: localStorage.getItem('k_wallet') || null,
            uid: localStorage.getItem('k_uid') || Math.floor(Math.random()*900000 + 100000)
        };

        const MAX_E = 1000;
        const REFILL = MAX_E / 86400; // 24h

        window.onload = () => {
            localStorage.setItem('k_uid', state.uid);
            document.getElementById('ref-preview').innerText = `t.me/KoalasUsdt_Bot?start=r${state.uid}`;
            syncEnergy(); refreshUI(); checkW();
            setInterval(autoRefill, 1000);
        };

        function handleTap(e) {
            if(state.energy < 1) return;
            state.energy -= 1; state.bal += 1; state.lastSync = Date.now();
            createFloat(e.clientX, e.clientY);
            refreshUI();
        }

        function autoRefill() {
            if(state.energy < MAX_E) {
                state.energy = Math.min(MAX_E, state.energy + REFILL);
                refreshUI();
            }
        }

        function syncEnergy() {
            let elapsed = (Date.now() - state.lastSync) / 1000;
            state.energy = Math.min(MAX_E, state.energy + (elapsed * REFILL));
        }

        function refreshUI() {
            document.getElementById('bal-txt').innerText = Math.floor(state.bal).toLocaleString();
            document.getElementById('e-txt').innerText = `${Math.floor(state.energy)}/${MAX_E}`;
            document.getElementById('e-fill').style.width = (state.energy/MAX_E*100) + "%";
            localStorage.setItem('k_bal', state.bal);
            localStorage.setItem('k_energy', state.energy);
            localStorage.setItem('k_sync', state.lastSync);
        }

        function tab(name, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('p-' + name).classList.add('active');
            el.classList.add('active');
        }

        function shareLink() {
            const link = `https://t.me/KoalasUsdt_Bot?start=r${state.uid}`;
            const msg = `üê® Koala Arcade'e katƒ±l, tƒ±kla ve $KOALA kazan!\n\nüöÄ Bu sezon daƒüƒ±tƒ±lacak 50,000 USDT'den payƒ±nƒ± al!`;
            window.location.href = `https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent(msg)}`;
        }

        function triggerAd() {
            const v = document.getElementById('ad-view');
            const s = document.getElementById('ad-sec');
            v.style.display = 'flex';
            let t = 10;
            const iv = setInterval(() => {
                t--; s.innerText = t;
                if(t <= 0) { clearInterval(iv); v.style.display = 'none'; state.bal += 1; refreshUI(); alert("+1 $KOALA Reward!"); }
            }, 1000);
        }

        function openTG() { window.location.href = 'https://t.me/KoalasCommunity'; }
        
        function createFloat(x, y) {
            const d = document.createElement('div');
            d.className = 'f-text'; d.innerText = '+1';
            d.style.left = x + 'px'; d.style.top = y + 'px';
            document.body.appendChild(d);
            setTimeout(() => d.remove(), 600);
        }

        function saveW() { state.wallet = document.getElementById('w-input').value; localStorage.setItem('k_wallet', state.wallet); checkW(); }
        function checkW() {
            if(state.wallet) {
                document.getElementById('w-setup').classList.add('hidden');
                document.getElementById('w-done').classList.remove('hidden');
                document.getElementById('w-preview').innerText = state.wallet;
            }
        }
        function resetW() { state.wallet = null; localStorage.removeItem('k_wallet'); document.getElementById('w-setup').classList.remove('hidden'); document.getElementById('w-done').classList.add('hidden'); }
    </script>
</body>
</html>
