<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok Pro - Sonsuz Akƒ±≈ü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; background: #000; color: white; }
        .feed-wrapper { height: 100vh; overflow-y: scroll; scroll-snap-type: y mandatory; scrollbar-width: none; }
        .feed-wrapper::-webkit-scrollbar { display: none; }
        .video-card { height: 100vh; width: 100%; scroll-snap-align: start; position: relative; background: #000; display: flex; justify-content: center; align-items: center; }
        iframe { width: 100%; height: 100%; max-width: 500px; pointer-events: all; }
        .ui-overlay { position: absolute; bottom: 100px; left: 20px; z-index: 20; pointer-events: none; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); }
        .tab-active { border-bottom: 3px solid white; color: white; opacity: 1; }
    </style>
</head>
<body>

    <div class="fixed top-0 left-0 w-full flex justify-center gap-6 z-50 bg-gradient-to-b from-black/70 to-transparent pt-8 pb-4">
        <button onclick="changeCategory('kesfet')" id="tab-kesfet" class="tab-active opacity-70 font-bold transition-all">Ke≈üfet</button>
        <button onclick="changeCategory('muzik')" id="tab-muzik" class="opacity-70 font-bold transition-all text-zinc-400">M√ºzik</button>
        <button onclick="changeCategory('spor')" id="tab-spor" class="opacity-70 font-bold transition-all text-zinc-400">Spor</button>
    </div>

    <div class="feed-wrapper" id="videoFeed"></div>

    <nav class="fixed bottom-0 w-full bg-black border-t border-zinc-900 flex justify-around items-center py-4 z-50">
        <i class="fas fa-home text-xl"></i>
        <i class="fas fa-search text-xl text-zinc-500"></i>
        <div class="bg-white text-black px-4 py-1 rounded-lg font-bold text-xl">+</div>
        <i class="fas fa-comment text-xl text-zinc-500"></i>
        <i class="fas fa-user text-xl text-zinc-500"></i>
    </nav>

    <script>
        const videoDB = {
            kesfet: [
                { id: '7591531252507789368', user: 'istek_ozel', desc: 'Senin se√ßtiƒüin video! üöÄ' },
                { id: 'kpaFYhxDFl8', user: 'yunuscanpolat', desc: 'G√ºncel T√ºrkiye Trendi üòÇ' }
            ],
            muzik: [
                { id: 'kz234YDHU-0', user: 'muzik_listesi', desc: 'Haftanƒ±n Top 10 T√ºrk√ße ≈ûarkƒ±sƒ± üéµ' },
                { id: 'k8eQP7b2LDU', user: 'lyrics_tr', desc: 'Aynur Aydƒ±n - Bi Dakika üé§' }
            ],
            spor: [
                { id: 'AY4dgEwCVyU', user: 'cerenyaldiz', desc: 'Galatasaray Ruhu! ü¶Å #GS' },
                { id: 'WzxXh3UMBF0', user: 'spor_trend', desc: '2026 Futbol Akƒ±mlarƒ± ‚öΩ' }
            ]
        };

        let currentCategory = 'kesfet';
        const feed = document.getElementById('videoFeed');

        // Sekme Deƒüi≈ütirme
        function changeCategory(cat) {
            currentCategory = cat;
            document.querySelectorAll('[id^="tab-"]').forEach(btn => btn.className = 'opacity-70 font-bold transition-all text-zinc-400');
            document.getElementById('tab-' + cat).className = 'tab-active opacity-100 font-bold transition-all text-white';
            feed.innerHTML = '';
            loadVideos();
        }

        // Videolarƒ± Y√ºkle
        function loadVideos() {
            const data = videoDB[currentCategory];
            data.forEach((v, i) => {
                const card = document.createElement('div');
                card.className = 'video-card';
                card.innerHTML = `
                    <iframe src="https://www.youtube.com/embed/${v.id}?enablejsapi=1&autoplay=0&controls=0&loop=1&playlist=${v.id}" frameborder="0" allow="autoplay; encrypted-media"></iframe>
                    <div class="ui-overlay">
                        <h3 class="font-bold">@${v.user}</h3>
                        <p class="text-sm mt-1">${v.desc}</p>
                    </div>
                `;
                feed.appendChild(card);
            });
            setupObserver();
        }

        // Akƒ±llƒ± ƒ∞zleyici: Sadece ekrandaki video oynasƒ±n
        function setupObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const iframe = entry.target.querySelector('iframe');
                    if (entry.isIntersecting) {
                        iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                    } else {
                        iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                    }
                });
            }, { threshold: 0.7 });

            document.querySelectorAll('.video-card').forEach(card => observer.observe(card));
        }

        // Sonsuz Kaydƒ±rma: Sona gelince mevcut kategoriyi tekrarla
        feed.addEventListener('scroll', () => {
            if (feed.scrollTop + feed.clientHeight >= feed.scrollHeight - 10) {
                loadVideos();
            }
        });

        // Ba≈ülat
        loadVideos();
    </script>
</body>
</html>
