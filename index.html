<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Ultimate Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --yt-black: #0f0f0f; --yt-gray: #272727; --yt-red: #ff0000; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: var(--yt-black); color: white; font-family: 'Roboto', sans-serif; overflow: hidden; }

        /* HEADER */
        header { height: 56px; padding: 0 16px; display: flex; align-items: center; justify-content: space-between; position: fixed; width: 100%; top: 0; background: var(--yt-black); z-index: 1000; }
        .search-container { display: flex; width: 40%; }
        .search-container input { width: 100%; background: #121212; border: 1px solid #333; padding: 8px 16px; border-radius: 20px 0 0 20px; color: white; }
        .search-btn { background: #222; border: 1px solid #333; padding: 0 15px; border-radius: 0 20px 20px 0; cursor: pointer; color: white; }

        /* SIDEBAR (YAN MENÜ) */
        .sidebar { position: fixed; left: 0; top: 56px; width: 240px; height: calc(100vh - 56px); background: var(--yt-black); padding: 12px; display: flex; flex-direction: column; gap: 4px; overflow-y: auto; }
        .side-item { padding: 10px 12px; border-radius: 10px; cursor: pointer; display: flex; align-items: center; gap: 20px; transition: 0.2s; }
        .side-item:hover, .side-item.active { background: var(--yt-gray); }
        .side-item i { font-size: 20px; width: 24px; }

        /* ANA İÇERİK */
        .main-wrapper { margin-left: 240px; margin-top: 56px; height: calc(100vh - 56px); overflow-y: auto; padding: 20px; }

        /* KATEGORİ TAGLARI */
        .tags-bar { display: flex; gap: 12px; margin-bottom: 24px; overflow-x: auto; padding-bottom: 10px; }
        .tag { background: var(--yt-gray); padding: 6px 12px; border-radius: 8px; font-size: 14px; cursor: pointer; white-space: nowrap; }
        .tag.active { background: white; color: black; }

        /* VİDEO GRİD */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
        .v-card { cursor: pointer; }
        .v-thumb { width: 100%; aspect-ratio: 16/9; border-radius: 12px; background: #222; object-fit: cover; }
        .v-meta { display: flex; gap: 12px; margin-top: 10px; }
        .v-chan-img { width: 36px; height: 36px; border-radius: 50%; background: #444; }
        .v-title { font-size: 16px; font-weight: 500; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.4; }

        /* SHORTS DÜZENİ */
        .shorts-tray { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 30px 0; }
        .short-card { aspect-ratio: 9/16; background: #000; border-radius: 12px; overflow: hidden; position: relative; cursor: pointer; border: 1px solid #222;}
        .short-card iframe { width: 100%; height: 100%; border: none; pointer-events: none; transform: scale(1.4); }

        /* İZLEME SAYFASI (DETAY) */
        #watch-overlay { position: fixed; inset: 0; background: var(--yt-black); z-index: 2000; display: none; overflow-y: auto; padding-top: 20px; }
        .watch-container { max-width: 1400px; margin: 0 auto; display: flex; gap: 24px; padding: 0 20px; }
        .watch-left { flex: 3; }
        .watch-right { flex: 1; }
        .main-player { width: 100%; aspect-ratio: 16/9; border-radius: 12px; background: #000; }
        
        @media (max-width: 1000px) {
            .sidebar { display: none; }
            .main-wrapper { margin-left: 0; }
            .watch-container { flex-direction: column; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo"><i class="fab fa-youtube" style="color:red"></i> YouTube<sup>TR</sup></div>
    <div class="search-container">
        <input type="text" placeholder="Ara">
        <button class="search-btn"><i class="fas fa-search"></i></button>
    </div>
    <div style="display:flex; gap:20px; font-size:20px;">
        <i class="fas fa-video"></i><i class="fas fa-bell"></i><div class="v-chan-img"></div>
    </div>
</header>

<div class="sidebar">
    <div class="side-item active"><i class="fas fa-home"></i> Ana Sayfa</div>
    <div class="side-item"><i class="fas fa-bolt"></i> Shorts</div>
    <div class="side-item"><i class="fas fa-layer-group"></i> Abonelikler</div>
    <hr style="border: 0.1px solid #333; margin: 10px 0;">
    <div class="side-item">Kitaplık</div>
    <div class="side-item"><i class="fas fa-history"></i> Geçmiş</div>
    <div class="side-item"><i class="fas fa-clock"></i> Daha sonra izle</div>
</div>

<main class="main-wrapper" id="home-view">
    <div class="tags-bar">
        <div class="tag active">Tümü</div>
        <div class="tag">Müzik</div>
        <div class="tag">Oyun</div>
        <div class="tag">Canlı</div>
        <div class="tag">Yemek</div>
        <div class="tag">Teknoloji</div>
        <div class="tag">Futbol</div>
    </div>

    <div class="video-grid" id="main-grid-1"></div>

    <h2 style="margin: 30px 0 15px 0;"><i class="fas fa-bolt" style="color:red"></i> Shorts</h2>
    <div class="shorts-tray" id="shorts-grid"></div>

    <div class="video-grid" id="main-grid-2" style="margin-top: 30px;"></div>
</main>

<div id="watch-overlay">
    <div style="padding: 10px 20px; cursor:pointer;" onclick="closeWatch()"><i class="fas fa-arrow-left"></i> Geri Dön</div>
    <div class="watch-container">
        <div class="watch-left">
            <div id="player-spot" class="main-player"></div>
            <h1 id="watch-title" style="margin-top:15px; font-size:20px;"></h1>
            <div style="display:flex; justify-content:space-between; align-items:center; margin-top:15px;">
                <div style="display:flex; gap:15px; align-items:center;">
                    <div class="v-chan-img"></div>
                    <div><b id="watch-chan"></b><br><small style="color:#aaa">1.43 Mn abone</small></div>
                    <button style="background:white; color:black; border-radius:20px; padding:8px 16px; border:none; font-weight:bold; margin-left:15px;">Abone ol</button>
                </div>
                <div style="display:flex; gap:10px;">
                    <div style="background:#222; padding:8px 16px; border-radius:20px;"><i class="fas fa-thumbs-up"></i> 45 B</div>
                    <div style="background:#222; padding:8px 16px; border-radius:20px;"><i class="fas fa-share"></i> Paylaş</div>
                </div>
            </div>
        </div>
        <div class="watch-right" id="recommendations"></div>
    </div>
</div>

<script>
    const API_KEY = 'AIzaSyDkaygARzpXfIXlozjyppLdXsPoE-mq1gg';

    // 1. Dinamik Kategori Karıştırma
    async function loadContent() {
        const q = ["popüler türkçe", "gaming 2026", "teknoloji inceleme", "müzik trend"];
        const grid1 = document.getElementById('main-grid-1');
        const grid2 = document.getElementById('main-grid-2');

        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=${q[Math.floor(Math.random()*q.length)]}&type=video&key=${API_KEY}`);
        const data = await res.json();

        data.items.forEach((item, i) => {
            const card = `
                <div class="v-card" onclick="openWatch('${item.id.videoId}', '${item.snippet.title.replace(/'/g,"")}', '${item.snippet.channelTitle}')">
                    <img src="${item.snippet.thumbnails.high.url}" class="v-thumb">
                    <div class="v-meta">
                        <div class="v-chan-img"></div>
                        <div class="v-text">
                            <div class="v-title">${item.snippet.title}</div>
                            <small style="color:#aaa">${item.snippet.channelTitle} • 250B izlenme</small>
                        </div>
                    </div>
                </div>`;
            i < 4 ? grid1.innerHTML += card : grid2.innerHTML += card;
        });
    }

    // 2. Shorts API Çekimi
    async function loadShorts() {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=6&q=shorts+türkçe+komik&type=video&videoDuration=short&key=${API_KEY}`);
        const data = await res.json();
        const container = document.getElementById('shorts-grid');

        data.items.forEach(item => {
            container.innerHTML += `
                <div class="short-card" onclick="openWatch('${item.id.videoId}', '${item.snippet.title.replace(/'/g,"")}', '${item.snippet.channelTitle}')">
                    <iframe src="https://www.youtube.com/embed/${item.id.videoId}?controls=0"></iframe>
                    <div style="position:absolute; bottom:10px; left:10px; font-size:12px; font-weight:bold; text-shadow:1px 1px 5px #000;">${item.snippet.title.substring(0,35)}...</div>
                </div>`;
        });
    }

    // 3. İzleme Ekranı Kontrolü
    function openWatch(id, title, channel) {
        const overlay = document.getElementById('watch-overlay');
        overlay.style.display = 'block';
        document.getElementById('player-spot').innerHTML = `<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${id}?autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
        document.getElementById('watch-title').innerText = title;
        document.getElementById('watch-chan').innerText = channel;
        
        loadRecs();
    }

    function closeWatch() {
        document.getElementById('watch-overlay').style.display = 'none';
        document.getElementById('player-spot').innerHTML = '';
    }

    async function loadRecs() {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=8&q=trending&type=video&key=${API_KEY}`);
        const data = await res.json();
        const recBox = document.getElementById('recommendations');
        recBox.innerHTML = "";
        data.items.forEach(item => {
            recBox.innerHTML += `
                <div style="display:flex; gap:10px; margin-bottom:12px; cursor:pointer;" onclick="openWatch('${item.id.videoId}', '${item.snippet.title.replace(/'/g,"")}', '${item.snippet.channelTitle}')">
                    <img src="${item.snippet.thumbnails.medium.url}" style="width:160px; border-radius:8px;">
                    <div>
                        <div style="font-size:14px; font-weight:500; display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">${item.snippet.title}</div>
                        <small style="color:#aaa">${item.snippet.channelTitle}</small>
                    </div>
                </div>`;
        });
    }

    loadContent();
    loadShorts();
</script>
</body>
</html>
